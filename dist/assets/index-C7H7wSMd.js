(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ph(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Fu={exports:{}},ni={},Wu={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vn=Symbol.for("react.element"),Oh=Symbol.for("react.portal"),Rh=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),$h=Symbol.for("react.provider"),Ah=Symbol.for("react.context"),Dh=Symbol.for("react.forward_ref"),Mh=Symbol.for("react.suspense"),Uh=Symbol.for("react.memo"),zh=Symbol.for("react.lazy"),da=Symbol.iterator;function Bh(t){return t===null||typeof t!="object"?null:(t=da&&t[da]||t["@@iterator"],typeof t=="function"?t:null)}var Hu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vu=Object.assign,qu={};function Gr(t,e,r){this.props=t,this.context=e,this.refs=qu,this.updater=r||Hu}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ku(){}Ku.prototype=Gr.prototype;function hl(t,e,r){this.props=t,this.context=e,this.refs=qu,this.updater=r||Hu}var fl=hl.prototype=new Ku;fl.constructor=hl;Vu(fl,Gr.prototype);fl.isPureReactComponent=!0;var ha=Array.isArray,Gu=Object.prototype.hasOwnProperty,pl={current:null},Ju={key:!0,ref:!0,__self:!0,__source:!0};function Qu(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Gu.call(e,n)&&!Ju.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Vn,type:t,key:i,ref:o,props:s,_owner:pl.current}}function Fh(t,e){return{$$typeof:Vn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ml(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vn}function Wh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var fa=/\/+/g;function Ci(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Wh(""+t.key):e.toString(36)}function ws(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vn:case Oh:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Ci(o,0):n,ha(s)?(r="",t!=null&&(r=t.replace(fa,"$&/")+"/"),ws(s,e,r,"",function(c){return c})):s!=null&&(ml(s)&&(s=Fh(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fa,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",ha(t))for(var l=0;l<t.length;l++){i=t[l];var a=n+Ci(i,l);o+=ws(i,e,r,a,s)}else if(a=Bh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=n+Ci(i,l++),o+=ws(i,e,r,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zn(t,e,r){if(t==null)return t;var n=[],s=0;return ws(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Hh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var je={current:null},_s={transition:null},Vh={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:_s,ReactCurrentOwner:pl};function Yu(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:Zn,forEach:function(t,e,r){Zn(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Zn(t,function(){e++}),e},toArray:function(t){return Zn(t,function(e){return e})||[]},only:function(t){if(!ml(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=Gr;M.Fragment=Rh;M.Profiler=Lh;M.PureComponent=hl;M.StrictMode=Ih;M.Suspense=Mh;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vh;M.act=Yu;M.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Vu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=pl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Gu.call(e,a)&&!Ju.hasOwnProperty(a)&&(n[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Vn,type:t.type,key:s,ref:i,props:n,_owner:o}};M.createContext=function(t){return t={$$typeof:Ah,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$h,_context:t},t.Consumer=t};M.createElement=Qu;M.createFactory=function(t){var e=Qu.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:Dh,render:t}};M.isValidElement=ml;M.lazy=function(t){return{$$typeof:zh,_payload:{_status:-1,_result:t},_init:Hh}};M.memo=function(t,e){return{$$typeof:Uh,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=_s.transition;_s.transition={};try{t()}finally{_s.transition=e}};M.unstable_act=Yu;M.useCallback=function(t,e){return je.current.useCallback(t,e)};M.useContext=function(t){return je.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return je.current.useDeferredValue(t)};M.useEffect=function(t,e){return je.current.useEffect(t,e)};M.useId=function(){return je.current.useId()};M.useImperativeHandle=function(t,e,r){return je.current.useImperativeHandle(t,e,r)};M.useInsertionEffect=function(t,e){return je.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return je.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return je.current.useMemo(t,e)};M.useReducer=function(t,e,r){return je.current.useReducer(t,e,r)};M.useRef=function(t){return je.current.useRef(t)};M.useState=function(t){return je.current.useState(t)};M.useSyncExternalStore=function(t,e,r){return je.current.useSyncExternalStore(t,e,r)};M.useTransition=function(){return je.current.useTransition()};M.version="18.3.1";Wu.exports=M;var I=Wu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=I,Kh=Symbol.for("react.element"),Gh=Symbol.for("react.fragment"),Jh=Object.prototype.hasOwnProperty,Qh=qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yh={key:!0,ref:!0,__self:!0,__source:!0};function Xu(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Jh.call(e,n)&&!Yh.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Kh,type:t,key:i,ref:o,props:s,_owner:Qh.current}}ni.Fragment=Gh;ni.jsx=Xu;ni.jsxs=Xu;Fu.exports=ni;var u=Fu.exports,Zu={exports:{}},Me={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,R){var E=N.length;N.push(R);e:for(;0<E;){var T=E-1>>>1,A=N[T];if(0<s(A,R))N[T]=R,N[E]=A,E=T;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var R=N[0],E=N.pop();if(E!==R){N[0]=E;e:for(var T=0,A=N.length,J=A>>>1;T<J;){var z=2*(T+1)-1,oe=N[z],te=z+1,Ie=N[te];if(0>s(oe,E))te<A&&0>s(Ie,oe)?(N[T]=Ie,N[te]=E,T=te):(N[T]=oe,N[z]=E,T=z);else if(te<A&&0>s(Ie,E))N[T]=Ie,N[te]=E,T=te;else break e}}return R}function s(N,R){var E=N.sortIndex-R.sortIndex;return E!==0?E:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,f=3,v=!1,w=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=N)n(c),R.sortIndex=R.expirationTime,e(a,R);else break;R=r(c)}}function y(N){if(_=!1,m(N),!w)if(r(a)!==null)w=!0,F(k);else{var R=r(c);R!==null&&Ge(y,R.startTime-N)}}function k(N,R){w=!1,_&&(_=!1,g(b),b=-1),v=!0;var E=f;try{for(m(R),h=r(a);h!==null&&(!(h.expirationTime>R)||N&&!q());){var T=h.callback;if(typeof T=="function"){h.callback=null,f=h.priorityLevel;var A=T(h.expirationTime<=R);R=t.unstable_now(),typeof A=="function"?h.callback=A:h===r(a)&&n(a),m(R)}else n(a);h=r(a)}if(h!==null)var J=!0;else{var z=r(c);z!==null&&Ge(y,z.startTime-R),J=!1}return J}finally{h=null,f=E,v=!1}}var j=!1,x=null,b=-1,U=5,O=-1;function q(){return!(t.unstable_now()-O<U)}function pe(){if(x!==null){var N=t.unstable_now();O=N;var R=!0;try{R=x(!0,N)}finally{R?_e():(j=!1,x=null)}}else j=!1}var _e;if(typeof p=="function")_e=function(){p(pe)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,$=ct.port2;ct.port1.onmessage=pe,_e=function(){$.postMessage(null)}}else _e=function(){C(pe,0)};function F(N){x=N,j||(j=!0,_e())}function Ge(N,R){b=C(function(){N(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,F(k))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(a)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var E=f;f=R;try{return N()}finally{f=E}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var E=f;f=N;try{return R()}finally{f=E}},t.unstable_scheduleCallback=function(N,R,E){var T=t.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?T+E:T):E=T,N){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=E+A,N={id:d++,callback:R,priorityLevel:N,startTime:E,expirationTime:A,sortIndex:-1},E>T?(N.sortIndex=E,e(c,N),r(a)===null&&N===r(c)&&(_?(g(b),b=-1):_=!0,Ge(y,E-T))):(N.sortIndex=A,e(a,N),w||v||(w=!0,F(k))),N},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(N){var R=f;return function(){var E=f;f=R;try{return N.apply(this,arguments)}finally{f=E}}}})(tc);ec.exports=tc;var Xh=ec.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=I,De=Xh;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rc=new Set,Nn={};function dr(t,e){zr(t,e),zr(t+"Capture",e)}function zr(t,e){for(Nn[t]=e,t=0;t<e.length;t++)rc.add(e[t])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oo=Object.prototype.hasOwnProperty,ef=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pa={},ma={};function tf(t){return oo.call(ma,t)?!0:oo.call(pa,t)?!1:ef.test(t)?ma[t]=!0:(pa[t]=!0,!1)}function rf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nf(t,e,r,n){if(e===null||typeof e>"u"||rf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new Ee(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new Ee(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new Ee(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new Ee(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new Ee(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new Ee(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new Ee(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new Ee(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new Ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var gl=/[\-:]([a-z])/g;function vl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gl,vl);fe[e]=new Ee(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gl,vl);fe[e]=new Ee(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gl,vl);fe[e]=new Ee(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function yl(t,e,r,n){var s=fe.hasOwnProperty(e)?fe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nf(e,r,s,n)&&(r=null),n||s===null?tf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var St=Zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),kr=Symbol.for("react.portal"),Sr=Symbol.for("react.fragment"),wl=Symbol.for("react.strict_mode"),lo=Symbol.for("react.profiler"),nc=Symbol.for("react.provider"),sc=Symbol.for("react.context"),_l=Symbol.for("react.forward_ref"),ao=Symbol.for("react.suspense"),uo=Symbol.for("react.suspense_list"),xl=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),ic=Symbol.for("react.offscreen"),ga=Symbol.iterator;function en(t){return t===null||typeof t!="object"?null:(t=ga&&t[ga]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,Ni;function dn(t){if(Ni===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ni=e&&e[1]||""}return`
`+Ni+t}var bi=!1;function Ti(t,e){if(!t||bi)return"";bi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{bi=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?dn(t):""}function sf(t){switch(t.tag){case 5:return dn(t.type);case 16:return dn("Lazy");case 13:return dn("Suspense");case 19:return dn("SuspenseList");case 0:case 2:case 15:return t=Ti(t.type,!1),t;case 11:return t=Ti(t.type.render,!1),t;case 1:return t=Ti(t.type,!0),t;default:return""}}function co(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sr:return"Fragment";case kr:return"Portal";case lo:return"Profiler";case wl:return"StrictMode";case ao:return"Suspense";case uo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sc:return(t.displayName||"Context")+".Consumer";case nc:return(t._context.displayName||"Context")+".Provider";case _l:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xl:return e=t.displayName||null,e!==null?e:co(t.type)||"Memo";case Nt:e=t._payload,t=t._init;try{return co(t(e))}catch{}}return null}function of(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return co(e);case 8:return e===wl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ft(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lf(t){var e=oc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ts(t){t._valueTracker||(t._valueTracker=lf(t))}function lc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=oc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ho(t,e){var r=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function va(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ft(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ac(t,e){e=e.checked,e!=null&&yl(t,"checked",e,!1)}function fo(t,e){ac(t,e);var r=Ft(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?po(t,e.type,r):e.hasOwnProperty("defaultValue")&&po(t,e.type,Ft(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ya(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function po(t,e,r){(e!=="number"||Os(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var hn=Array.isArray;function Lr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ft(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function mo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wa(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(S(92));if(hn(r)){if(1<r.length)throw Error(S(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ft(r)}}function uc(t,e){var r=Ft(e.value),n=Ft(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function _a(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function go(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rs,dc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},af=["Webkit","ms","Moz","O"];Object.keys(gn).forEach(function(t){af.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gn[e]=gn[t]})});function hc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||gn.hasOwnProperty(t)&&gn[t]?(""+e).trim():e+"px"}function fc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=hc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var uf=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vo(t,e){if(e){if(uf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function yo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=null;function kl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _o=null,$r=null,Ar=null;function xa(t){if(t=Gn(t)){if(typeof _o!="function")throw Error(S(280));var e=t.stateNode;e&&(e=ai(e),_o(t.stateNode,t.type,e))}}function pc(t){$r?Ar?Ar.push(t):Ar=[t]:$r=t}function mc(){if($r){var t=$r,e=Ar;if(Ar=$r=null,xa(t),e)for(t=0;t<e.length;t++)xa(e[t])}}function gc(t,e){return t(e)}function vc(){}var Pi=!1;function yc(t,e,r){if(Pi)return t(e,r);Pi=!0;try{return gc(t,e,r)}finally{Pi=!1,($r!==null||Ar!==null)&&(vc(),mc())}}function Tn(t,e){var r=t.stateNode;if(r===null)return null;var n=ai(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(S(231,e,typeof r));return r}var xo=!1;if(wt)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){xo=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{xo=!1}function cf(t,e,r,n,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var vn=!1,Rs=null,Is=!1,ko=null,df={onError:function(t){vn=!0,Rs=t}};function hf(t,e,r,n,s,i,o,l,a){vn=!1,Rs=null,cf.apply(df,arguments)}function ff(t,e,r,n,s,i,o,l,a){if(hf.apply(this,arguments),vn){if(vn){var c=Rs;vn=!1,Rs=null}else throw Error(S(198));Is||(Is=!0,ko=c)}}function hr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function wc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ka(t){if(hr(t)!==t)throw Error(S(188))}function pf(t){var e=t.alternate;if(!e){if(e=hr(t),e===null)throw Error(S(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ka(s),t;if(i===n)return ka(s),e;i=i.sibling}throw Error(S(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(S(189))}}if(r.alternate!==n)throw Error(S(190))}if(r.tag!==3)throw Error(S(188));return r.stateNode.current===r?t:e}function _c(t){return t=pf(t),t!==null?xc(t):null}function xc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xc(t);if(e!==null)return e;t=t.sibling}return null}var kc=De.unstable_scheduleCallback,Sa=De.unstable_cancelCallback,mf=De.unstable_shouldYield,gf=De.unstable_requestPaint,re=De.unstable_now,vf=De.unstable_getCurrentPriorityLevel,Sl=De.unstable_ImmediatePriority,Sc=De.unstable_UserBlockingPriority,Ls=De.unstable_NormalPriority,yf=De.unstable_LowPriority,jc=De.unstable_IdlePriority,si=null,lt=null;function wf(t){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(si,t,void 0,(t.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:kf,_f=Math.log,xf=Math.LN2;function kf(t){return t>>>=0,t===0?32:31-(_f(t)/xf|0)|0}var ns=64,ss=4194304;function fn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $s(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=fn(l):(i&=o,i!==0&&(n=fn(i)))}else o=r&~s,o!==0?n=fn(o):i!==0&&(n=fn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-tt(e),s=1<<r,n|=t[r],e&=~s;return n}function Sf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tt(i),l=1<<o,a=s[o];a===-1?(!(l&r)||l&n)&&(s[o]=Sf(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function So(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ec(){var t=ns;return ns<<=1,!(ns&4194240)&&(ns=64),t}function Oi(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function qn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tt(e),t[e]=r}function Ef(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-tt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function jl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-tt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var W=0;function Cc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nc,El,bc,Tc,Pc,jo=!1,is=[],Lt=null,$t=null,At=null,Pn=new Map,On=new Map,Tt=[],Cf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ja(t,e){switch(t){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(e.pointerId)}}function rn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Gn(e),e!==null&&El(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Nf(t,e,r,n,s){switch(e){case"focusin":return Lt=rn(Lt,t,e,r,n,s),!0;case"dragenter":return $t=rn($t,t,e,r,n,s),!0;case"mouseover":return At=rn(At,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Pn.set(i,rn(Pn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,On.set(i,rn(On.get(i)||null,t,e,r,n,s)),!0}return!1}function Oc(t){var e=tr(t.target);if(e!==null){var r=hr(e);if(r!==null){if(e=r.tag,e===13){if(e=wc(r),e!==null){t.blockedOn=e,Pc(t.priority,function(){bc(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Eo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);wo=n,r.target.dispatchEvent(n),wo=null}else return e=Gn(r),e!==null&&El(e),t.blockedOn=r,!1;e.shift()}return!0}function Ea(t,e,r){xs(t)&&r.delete(e)}function bf(){jo=!1,Lt!==null&&xs(Lt)&&(Lt=null),$t!==null&&xs($t)&&($t=null),At!==null&&xs(At)&&(At=null),Pn.forEach(Ea),On.forEach(Ea)}function nn(t,e){t.blockedOn===e&&(t.blockedOn=null,jo||(jo=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,bf)))}function Rn(t){function e(s){return nn(s,t)}if(0<is.length){nn(is[0],t);for(var r=1;r<is.length;r++){var n=is[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Lt!==null&&nn(Lt,t),$t!==null&&nn($t,t),At!==null&&nn(At,t),Pn.forEach(e),On.forEach(e),r=0;r<Tt.length;r++)n=Tt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Tt.length&&(r=Tt[0],r.blockedOn===null);)Oc(r),r.blockedOn===null&&Tt.shift()}var Dr=St.ReactCurrentBatchConfig,As=!0;function Tf(t,e,r,n){var s=W,i=Dr.transition;Dr.transition=null;try{W=1,Cl(t,e,r,n)}finally{W=s,Dr.transition=i}}function Pf(t,e,r,n){var s=W,i=Dr.transition;Dr.transition=null;try{W=4,Cl(t,e,r,n)}finally{W=s,Dr.transition=i}}function Cl(t,e,r,n){if(As){var s=Eo(t,e,r,n);if(s===null)Bi(t,e,n,Ds,r),ja(t,n);else if(Nf(s,t,e,r,n))n.stopPropagation();else if(ja(t,n),e&4&&-1<Cf.indexOf(t)){for(;s!==null;){var i=Gn(s);if(i!==null&&Nc(i),i=Eo(t,e,r,n),i===null&&Bi(t,e,n,Ds,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Bi(t,e,n,null,r)}}var Ds=null;function Eo(t,e,r,n){if(Ds=null,t=kl(n),t=tr(t),t!==null)if(e=hr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=wc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ds=t,null}function Rc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vf()){case Sl:return 1;case Sc:return 4;case Ls:case yf:return 16;case jc:return 536870912;default:return 16}default:return 16}}var Rt=null,Nl=null,ks=null;function Ic(){if(ks)return ks;var t,e=Nl,r=e.length,n,s="value"in Rt?Rt.value:Rt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return ks=s.slice(t,1<n?1-n:void 0)}function Ss(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function os(){return!0}function Ca(){return!1}function Ue(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?os:Ca,this.isPropagationStopped=Ca,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),e}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=Ue(Jr),Kn=Z({},Jr,{view:0,detail:0}),Of=Ue(Kn),Ri,Ii,sn,ii=Z({},Kn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sn&&(sn&&t.type==="mousemove"?(Ri=t.screenX-sn.screenX,Ii=t.screenY-sn.screenY):Ii=Ri=0,sn=t),Ri)},movementY:function(t){return"movementY"in t?t.movementY:Ii}}),Na=Ue(ii),Rf=Z({},ii,{dataTransfer:0}),If=Ue(Rf),Lf=Z({},Kn,{relatedTarget:0}),Li=Ue(Lf),$f=Z({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Af=Ue($f),Df=Z({},Jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mf=Ue(Df),Uf=Z({},Jr,{data:0}),ba=Ue(Uf),zf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ff={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ff[t])?!!e[t]:!1}function Tl(){return Wf}var Hf=Z({},Kn,{key:function(t){if(t.key){var e=zf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(t){return t.type==="keypress"?Ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vf=Ue(Hf),qf=Z({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ta=Ue(qf),Kf=Z({},Kn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),Gf=Ue(Kf),Jf=Z({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qf=Ue(Jf),Yf=Z({},ii,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xf=Ue(Yf),Zf=[9,13,27,32],Pl=wt&&"CompositionEvent"in window,yn=null;wt&&"documentMode"in document&&(yn=document.documentMode);var ep=wt&&"TextEvent"in window&&!yn,Lc=wt&&(!Pl||yn&&8<yn&&11>=yn),Pa=" ",Oa=!1;function $c(t,e){switch(t){case"keyup":return Zf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ac(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jr=!1;function tp(t,e){switch(t){case"compositionend":return Ac(e);case"keypress":return e.which!==32?null:(Oa=!0,Pa);case"textInput":return t=e.data,t===Pa&&Oa?null:t;default:return null}}function rp(t,e){if(jr)return t==="compositionend"||!Pl&&$c(t,e)?(t=Ic(),ks=Nl=Rt=null,jr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lc&&e.locale!=="ko"?null:e.data;default:return null}}var np={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ra(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!np[t.type]:e==="textarea"}function Dc(t,e,r,n){pc(n),e=Ms(e,"onChange"),0<e.length&&(r=new bl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var wn=null,In=null;function sp(t){Gc(t,0)}function oi(t){var e=Nr(t);if(lc(e))return t}function ip(t,e){if(t==="change")return e}var Mc=!1;if(wt){var $i;if(wt){var Ai="oninput"in document;if(!Ai){var Ia=document.createElement("div");Ia.setAttribute("oninput","return;"),Ai=typeof Ia.oninput=="function"}$i=Ai}else $i=!1;Mc=$i&&(!document.documentMode||9<document.documentMode)}function La(){wn&&(wn.detachEvent("onpropertychange",Uc),In=wn=null)}function Uc(t){if(t.propertyName==="value"&&oi(In)){var e=[];Dc(e,In,t,kl(t)),yc(sp,e)}}function op(t,e,r){t==="focusin"?(La(),wn=e,In=r,wn.attachEvent("onpropertychange",Uc)):t==="focusout"&&La()}function lp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oi(In)}function ap(t,e){if(t==="click")return oi(e)}function up(t,e){if(t==="input"||t==="change")return oi(e)}function cp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nt=typeof Object.is=="function"?Object.is:cp;function Ln(t,e){if(nt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!oo.call(e,s)||!nt(t[s],e[s]))return!1}return!0}function $a(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Aa(t,e){var r=$a(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$a(r)}}function zc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bc(){for(var t=window,e=Os();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Os(t.document)}return e}function Ol(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dp(t){var e=Bc(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&zc(r.ownerDocument.documentElement,r)){if(n!==null&&Ol(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Aa(r,i);var o=Aa(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hp=wt&&"documentMode"in document&&11>=document.documentMode,Er=null,Co=null,_n=null,No=!1;function Da(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;No||Er==null||Er!==Os(n)||(n=Er,"selectionStart"in n&&Ol(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_n&&Ln(_n,n)||(_n=n,n=Ms(Co,"onSelect"),0<n.length&&(e=new bl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Er)))}function ls(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Cr={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionend:ls("Transition","TransitionEnd")},Di={},Fc={};wt&&(Fc=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function li(t){if(Di[t])return Di[t];if(!Cr[t])return t;var e=Cr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Fc)return Di[t]=e[r];return t}var Wc=li("animationend"),Hc=li("animationiteration"),Vc=li("animationstart"),qc=li("transitionend"),Kc=new Map,Ma="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ht(t,e){Kc.set(t,e),dr(e,[t])}for(var Mi=0;Mi<Ma.length;Mi++){var Ui=Ma[Mi],fp=Ui.toLowerCase(),pp=Ui[0].toUpperCase()+Ui.slice(1);Ht(fp,"on"+pp)}Ht(Wc,"onAnimationEnd");Ht(Hc,"onAnimationIteration");Ht(Vc,"onAnimationStart");Ht("dblclick","onDoubleClick");Ht("focusin","onFocus");Ht("focusout","onBlur");Ht(qc,"onTransitionEnd");zr("onMouseEnter",["mouseout","mouseover"]);zr("onMouseLeave",["mouseout","mouseover"]);zr("onPointerEnter",["pointerout","pointerover"]);zr("onPointerLeave",["pointerout","pointerover"]);dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(pn));function Ua(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ff(n,e,void 0,t),t.currentTarget=null}function Gc(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ua(s,l,c),i=a}else for(o=0;o<n.length;o++){if(l=n[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ua(s,l,c),i=a}}}if(Is)throw t=ko,Is=!1,ko=null,t}function K(t,e){var r=e[Ro];r===void 0&&(r=e[Ro]=new Set);var n=t+"__bubble";r.has(n)||(Jc(e,t,2,!1),r.add(n))}function zi(t,e,r){var n=0;e&&(n|=4),Jc(r,t,n,e)}var as="_reactListening"+Math.random().toString(36).slice(2);function $n(t){if(!t[as]){t[as]=!0,rc.forEach(function(r){r!=="selectionchange"&&(mp.has(r)||zi(r,!1,t),zi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[as]||(e[as]=!0,zi("selectionchange",!1,e))}}function Jc(t,e,r,n){switch(Rc(e)){case 1:var s=Tf;break;case 4:s=Pf;break;default:s=Cl}r=s.bind(null,e,r,t),s=void 0,!xo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Bi(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=tr(l),o===null)return;if(a=o.tag,a===5||a===6){n=i=o;continue e}l=l.parentNode}}n=n.return}yc(function(){var c=i,d=kl(r),h=[];e:{var f=Kc.get(t);if(f!==void 0){var v=bl,w=t;switch(t){case"keypress":if(Ss(r)===0)break e;case"keydown":case"keyup":v=Vf;break;case"focusin":w="focus",v=Li;break;case"focusout":w="blur",v=Li;break;case"beforeblur":case"afterblur":v=Li;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=If;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Gf;break;case Wc:case Hc:case Vc:v=Af;break;case qc:v=Qf;break;case"scroll":v=Of;break;case"wheel":v=Xf;break;case"copy":case"cut":case"paste":v=Mf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ta}var _=(e&4)!==0,C=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var p=c,m;p!==null;){m=p;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,g!==null&&(y=Tn(p,g),y!=null&&_.push(An(p,y,m)))),C)break;p=p.return}0<_.length&&(f=new v(f,w,null,r,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&r!==wo&&(w=r.relatedTarget||r.fromElement)&&(tr(w)||w[_t]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=c,w=w?tr(w):null,w!==null&&(C=hr(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(_=Na,y="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ta,y="onPointerLeave",g="onPointerEnter",p="pointer"),C=v==null?f:Nr(v),m=w==null?f:Nr(w),f=new _(y,p+"leave",v,r,d),f.target=C,f.relatedTarget=m,y=null,tr(d)===c&&(_=new _(g,p+"enter",w,r,d),_.target=m,_.relatedTarget=C,y=_),C=y,v&&w)t:{for(_=v,g=w,p=0,m=_;m;m=pr(m))p++;for(m=0,y=g;y;y=pr(y))m++;for(;0<p-m;)_=pr(_),p--;for(;0<m-p;)g=pr(g),m--;for(;p--;){if(_===g||g!==null&&_===g.alternate)break t;_=pr(_),g=pr(g)}_=null}else _=null;v!==null&&za(h,f,v,_,!1),w!==null&&C!==null&&za(h,C,w,_,!0)}}e:{if(f=c?Nr(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var k=ip;else if(Ra(f))if(Mc)k=up;else{k=lp;var j=op}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=ap);if(k&&(k=k(t,c))){Dc(h,k,r,d);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&po(f,"number",f.value)}switch(j=c?Nr(c):window,t){case"focusin":(Ra(j)||j.contentEditable==="true")&&(Er=j,Co=c,_n=null);break;case"focusout":_n=Co=Er=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,Da(h,r,d);break;case"selectionchange":if(hp)break;case"keydown":case"keyup":Da(h,r,d)}var x;if(Pl)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jr?$c(t,r)&&(b="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(Lc&&r.locale!=="ko"&&(jr||b!=="onCompositionStart"?b==="onCompositionEnd"&&jr&&(x=Ic()):(Rt=d,Nl="value"in Rt?Rt.value:Rt.textContent,jr=!0)),j=Ms(c,b),0<j.length&&(b=new ba(b,t,null,r,d),h.push({event:b,listeners:j}),x?b.data=x:(x=Ac(r),x!==null&&(b.data=x)))),(x=ep?tp(t,r):rp(t,r))&&(c=Ms(c,"onBeforeInput"),0<c.length&&(d=new ba("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=x))}Gc(h,e)})}function An(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ms(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Tn(t,r),i!=null&&n.unshift(An(t,i,s)),i=Tn(t,e),i!=null&&n.push(An(t,i,s))),t=t.return}return n}function pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function za(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,a=l.alternate,c=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&c!==null&&(l=c,s?(a=Tn(r,i),a!=null&&o.unshift(An(r,a,l))):s||(a=Tn(r,i),a!=null&&o.push(An(r,a,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var gp=/\r\n?/g,vp=/\u0000|\uFFFD/g;function Ba(t){return(typeof t=="string"?t:""+t).replace(gp,`
`).replace(vp,"")}function us(t,e,r){if(e=Ba(e),Ba(t)!==e&&r)throw Error(S(425))}function Us(){}var bo=null,To=null;function Po(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oo=typeof setTimeout=="function"?setTimeout:void 0,yp=typeof clearTimeout=="function"?clearTimeout:void 0,Fa=typeof Promise=="function"?Promise:void 0,wp=typeof queueMicrotask=="function"?queueMicrotask:typeof Fa<"u"?function(t){return Fa.resolve(null).then(t).catch(_p)}:Oo;function _p(t){setTimeout(function(){throw t})}function Fi(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Rn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Rn(e)}function Dt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wa(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),ot="__reactFiber$"+Qr,Dn="__reactProps$"+Qr,_t="__reactContainer$"+Qr,Ro="__reactEvents$"+Qr,xp="__reactListeners$"+Qr,kp="__reactHandles$"+Qr;function tr(t){var e=t[ot];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_t]||r[ot]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Wa(t);t!==null;){if(r=t[ot])return r;t=Wa(t)}return e}t=r,r=t.parentNode}return null}function Gn(t){return t=t[ot]||t[_t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function ai(t){return t[Dn]||null}var Io=[],br=-1;function Vt(t){return{current:t}}function G(t){0>br||(t.current=Io[br],Io[br]=null,br--)}function V(t,e){br++,Io[br]=t.current,t.current=e}var Wt={},we=Vt(Wt),Pe=Vt(!1),or=Wt;function Br(t,e){var r=t.type.contextTypes;if(!r)return Wt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(t){return t=t.childContextTypes,t!=null}function zs(){G(Pe),G(we)}function Ha(t,e,r){if(we.current!==Wt)throw Error(S(168));V(we,e),V(Pe,r)}function Qc(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(S(108,of(t)||"Unknown",s));return Z({},r,n)}function Bs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wt,or=we.current,V(we,t),V(Pe,Pe.current),!0}function Va(t,e,r){var n=t.stateNode;if(!n)throw Error(S(169));r?(t=Qc(t,e,or),n.__reactInternalMemoizedMergedChildContext=t,G(Pe),G(we),V(we,t)):G(Pe),V(Pe,r)}var mt=null,ui=!1,Wi=!1;function Yc(t){mt===null?mt=[t]:mt.push(t)}function Sp(t){ui=!0,Yc(t)}function qt(){if(!Wi&&mt!==null){Wi=!0;var t=0,e=W;try{var r=mt;for(W=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}mt=null,ui=!1}catch(s){throw mt!==null&&(mt=mt.slice(t+1)),kc(Sl,qt),s}finally{W=e,Wi=!1}}return null}var Tr=[],Pr=0,Fs=null,Ws=0,ze=[],Be=0,lr=null,gt=1,vt="";function Yt(t,e){Tr[Pr++]=Ws,Tr[Pr++]=Fs,Fs=t,Ws=e}function Xc(t,e,r){ze[Be++]=gt,ze[Be++]=vt,ze[Be++]=lr,lr=t;var n=gt;t=vt;var s=32-tt(n)-1;n&=~(1<<s),r+=1;var i=32-tt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,gt=1<<32-tt(e)+s|r<<s|n,vt=i+t}else gt=1<<i|r<<s|n,vt=t}function Rl(t){t.return!==null&&(Yt(t,1),Xc(t,1,0))}function Il(t){for(;t===Fs;)Fs=Tr[--Pr],Tr[Pr]=null,Ws=Tr[--Pr],Tr[Pr]=null;for(;t===lr;)lr=ze[--Be],ze[Be]=null,vt=ze[--Be],ze[Be]=null,gt=ze[--Be],ze[Be]=null}var Ae=null,$e=null,Q=!1,et=null;function Zc(t,e){var r=Fe(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function qa(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ae=t,$e=Dt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ae=t,$e=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=lr!==null?{id:gt,overflow:vt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Fe(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ae=t,$e=null,!0):!1;default:return!1}}function Lo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $o(t){if(Q){var e=$e;if(e){var r=e;if(!qa(t,e)){if(Lo(t))throw Error(S(418));e=Dt(r.nextSibling);var n=Ae;e&&qa(t,e)?Zc(n,r):(t.flags=t.flags&-4097|2,Q=!1,Ae=t)}}else{if(Lo(t))throw Error(S(418));t.flags=t.flags&-4097|2,Q=!1,Ae=t}}}function Ka(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ae=t}function cs(t){if(t!==Ae)return!1;if(!Q)return Ka(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Po(t.type,t.memoizedProps)),e&&(e=$e)){if(Lo(t))throw ed(),Error(S(418));for(;e;)Zc(t,e),e=Dt(e.nextSibling)}if(Ka(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$e=Dt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$e=null}}else $e=Ae?Dt(t.stateNode.nextSibling):null;return!0}function ed(){for(var t=$e;t;)t=Dt(t.nextSibling)}function Fr(){$e=Ae=null,Q=!1}function Ll(t){et===null?et=[t]:et.push(t)}var jp=St.ReactCurrentBatchConfig;function on(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(S(309));var n=r.stateNode}if(!n)throw Error(S(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(S(284));if(!r._owner)throw Error(S(290,t))}return t}function ds(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ga(t){var e=t._init;return e(t._payload)}function td(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Bt(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,p,m,y){return p===null||p.tag!==6?(p=Qi(m,g.mode,y),p.return=g,p):(p=s(p,m),p.return=g,p)}function a(g,p,m,y){var k=m.type;return k===Sr?d(g,p,m.props.children,y,m.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nt&&Ga(k)===p.type)?(y=s(p,m.props),y.ref=on(g,p,m),y.return=g,y):(y=Ps(m.type,m.key,m.props,null,g.mode,y),y.ref=on(g,p,m),y.return=g,y)}function c(g,p,m,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Yi(m,g.mode,y),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,y,k){return p===null||p.tag!==7?(p=ir(m,g.mode,y,k),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Qi(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case es:return m=Ps(p.type,p.key,p.props,null,g.mode,m),m.ref=on(g,null,p),m.return=g,m;case kr:return p=Yi(p,g.mode,m),p.return=g,p;case Nt:var y=p._init;return h(g,y(p._payload),m)}if(hn(p)||en(p))return p=ir(p,g.mode,m,null),p.return=g,p;ds(g,p)}return null}function f(g,p,m,y){var k=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:l(g,p,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case es:return m.key===k?a(g,p,m,y):null;case kr:return m.key===k?c(g,p,m,y):null;case Nt:return k=m._init,f(g,p,k(m._payload),y)}if(hn(m)||en(m))return k!==null?null:d(g,p,m,y,null);ds(g,m)}return null}function v(g,p,m,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(m)||null,l(p,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case es:return g=g.get(y.key===null?m:y.key)||null,a(p,g,y,k);case kr:return g=g.get(y.key===null?m:y.key)||null,c(p,g,y,k);case Nt:var j=y._init;return v(g,p,m,j(y._payload),k)}if(hn(y)||en(y))return g=g.get(m)||null,d(p,g,y,k,null);ds(p,y)}return null}function w(g,p,m,y){for(var k=null,j=null,x=p,b=p=0,U=null;x!==null&&b<m.length;b++){x.index>b?(U=x,x=null):U=x.sibling;var O=f(g,x,m[b],y);if(O===null){x===null&&(x=U);break}t&&x&&O.alternate===null&&e(g,x),p=i(O,p,b),j===null?k=O:j.sibling=O,j=O,x=U}if(b===m.length)return r(g,x),Q&&Yt(g,b),k;if(x===null){for(;b<m.length;b++)x=h(g,m[b],y),x!==null&&(p=i(x,p,b),j===null?k=x:j.sibling=x,j=x);return Q&&Yt(g,b),k}for(x=n(g,x);b<m.length;b++)U=v(x,g,b,m[b],y),U!==null&&(t&&U.alternate!==null&&x.delete(U.key===null?b:U.key),p=i(U,p,b),j===null?k=U:j.sibling=U,j=U);return t&&x.forEach(function(q){return e(g,q)}),Q&&Yt(g,b),k}function _(g,p,m,y){var k=en(m);if(typeof k!="function")throw Error(S(150));if(m=k.call(m),m==null)throw Error(S(151));for(var j=k=null,x=p,b=p=0,U=null,O=m.next();x!==null&&!O.done;b++,O=m.next()){x.index>b?(U=x,x=null):U=x.sibling;var q=f(g,x,O.value,y);if(q===null){x===null&&(x=U);break}t&&x&&q.alternate===null&&e(g,x),p=i(q,p,b),j===null?k=q:j.sibling=q,j=q,x=U}if(O.done)return r(g,x),Q&&Yt(g,b),k;if(x===null){for(;!O.done;b++,O=m.next())O=h(g,O.value,y),O!==null&&(p=i(O,p,b),j===null?k=O:j.sibling=O,j=O);return Q&&Yt(g,b),k}for(x=n(g,x);!O.done;b++,O=m.next())O=v(x,g,b,O.value,y),O!==null&&(t&&O.alternate!==null&&x.delete(O.key===null?b:O.key),p=i(O,p,b),j===null?k=O:j.sibling=O,j=O);return t&&x.forEach(function(pe){return e(g,pe)}),Q&&Yt(g,b),k}function C(g,p,m,y){if(typeof m=="object"&&m!==null&&m.type===Sr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case es:e:{for(var k=m.key,j=p;j!==null;){if(j.key===k){if(k=m.type,k===Sr){if(j.tag===7){r(g,j.sibling),p=s(j,m.props.children),p.return=g,g=p;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nt&&Ga(k)===j.type){r(g,j.sibling),p=s(j,m.props),p.ref=on(g,j,m),p.return=g,g=p;break e}r(g,j);break}else e(g,j);j=j.sibling}m.type===Sr?(p=ir(m.props.children,g.mode,y,m.key),p.return=g,g=p):(y=Ps(m.type,m.key,m.props,null,g.mode,y),y.ref=on(g,p,m),y.return=g,g=y)}return o(g);case kr:e:{for(j=m.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=Yi(m,g.mode,y),p.return=g,g=p}return o(g);case Nt:return j=m._init,C(g,p,j(m._payload),y)}if(hn(m))return w(g,p,m,y);if(en(m))return _(g,p,m,y);ds(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,m),p.return=g,g=p):(r(g,p),p=Qi(m,g.mode,y),p.return=g,g=p),o(g)):r(g,p)}return C}var Wr=td(!0),rd=td(!1),Hs=Vt(null),Vs=null,Or=null,$l=null;function Al(){$l=Or=Vs=null}function Dl(t){var e=Hs.current;G(Hs),t._currentValue=e}function Ao(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Mr(t,e){Vs=t,$l=Or=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Te=!0),t.firstContext=null)}function qe(t){var e=t._currentValue;if($l!==t)if(t={context:t,memoizedValue:e,next:null},Or===null){if(Vs===null)throw Error(S(308));Or=t,Vs.dependencies={lanes:0,firstContext:t}}else Or=Or.next=t;return e}var rr=null;function Ml(t){rr===null?rr=[t]:rr.push(t)}function nd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ml(e)):(r.next=s.next,s.next=r),e.interleaved=r,xt(t,n)}function xt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var bt=!1;function Ul(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,xt(t,r)}return s=n.interleaved,s===null?(e.next=e,Ml(n)):(e.next=s.next,s.next=e),n.interleaved=e,xt(t,r)}function js(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jl(t,r)}}function Ja(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function qs(t,e,r,n){var s=t.updateQueue;bt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var f=l.lane,v=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,_=l;switch(f=e,v=r,_.tag){case 1:if(w=_.payload,typeof w=="function"){h=w.call(v,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,f=typeof w=="function"?w.call(v,h,f):w,f==null)break e;h=Z({},h,f);break e;case 2:bt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,a=h):d=d.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ur|=o,t.lanes=o,t.memoizedState=h}}function Qa(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(S(191,s));s.call(n)}}}var Jn={},at=Vt(Jn),Mn=Vt(Jn),Un=Vt(Jn);function nr(t){if(t===Jn)throw Error(S(174));return t}function zl(t,e){switch(V(Un,e),V(Mn,t),V(at,Jn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:go(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=go(e,t)}G(at),V(at,e)}function Hr(){G(at),G(Mn),G(Un)}function id(t){nr(Un.current);var e=nr(at.current),r=go(e,t.type);e!==r&&(V(Mn,t),V(at,r))}function Bl(t){Mn.current===t&&(G(at),G(Mn))}var Y=Vt(0);function Ks(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hi=[];function Fl(){for(var t=0;t<Hi.length;t++)Hi[t]._workInProgressVersionPrimary=null;Hi.length=0}var Es=St.ReactCurrentDispatcher,Vi=St.ReactCurrentBatchConfig,ar=0,X=null,se=null,ue=null,Gs=!1,xn=!1,zn=0,Ep=0;function me(){throw Error(S(321))}function Wl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!nt(t[r],e[r]))return!1;return!0}function Hl(t,e,r,n,s,i){if(ar=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Es.current=t===null||t.memoizedState===null?Tp:Pp,t=r(n,s),xn){i=0;do{if(xn=!1,zn=0,25<=i)throw Error(S(301));i+=1,ue=se=null,e.updateQueue=null,Es.current=Op,t=r(n,s)}while(xn)}if(Es.current=Js,e=se!==null&&se.next!==null,ar=0,ue=se=X=null,Gs=!1,e)throw Error(S(300));return t}function Vl(){var t=zn!==0;return zn=0,t}function it(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?X.memoizedState=ue=t:ue=ue.next=t,ue}function Ke(){if(se===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=ue===null?X.memoizedState:ue.next;if(e!==null)ue=e,se=t;else{if(t===null)throw Error(S(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ue===null?X.memoizedState=ue=t:ue=ue.next=t}return ue}function Bn(t,e){return typeof e=="function"?e(t):e}function qi(t){var e=Ke(),r=e.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=t;var n=se,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((ar&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=n):a=a.next=h,X.lanes|=d,ur|=d}c=c.next}while(c!==null&&c!==i);a===null?o=n:a.next=l,nt(n,e.memoizedState)||(Te=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=a,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,X.lanes|=i,ur|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ki(t){var e=Ke(),r=e.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);nt(i,e.memoizedState)||(Te=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function od(){}function ld(t,e){var r=X,n=Ke(),s=e(),i=!nt(n.memoizedState,s);if(i&&(n.memoizedState=s,Te=!0),n=n.queue,ql(cd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,Fn(9,ud.bind(null,r,n,s,e),void 0,null),ce===null)throw Error(S(349));ar&30||ad(r,e,s)}return s}function ad(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ud(t,e,r,n){e.value=r,e.getSnapshot=n,dd(e)&&hd(t)}function cd(t,e,r){return r(function(){dd(e)&&hd(t)})}function dd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!nt(t,r)}catch{return!0}}function hd(t){var e=xt(t,1);e!==null&&rt(e,t,1,-1)}function Ya(t){var e=it();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:t},e.queue=t,t=t.dispatch=bp.bind(null,X,t),[e.memoizedState,t]}function Fn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function fd(){return Ke().memoizedState}function Cs(t,e,r,n){var s=it();X.flags|=t,s.memoizedState=Fn(1|e,r,void 0,n===void 0?null:n)}function ci(t,e,r,n){var s=Ke();n=n===void 0?null:n;var i=void 0;if(se!==null){var o=se.memoizedState;if(i=o.destroy,n!==null&&Wl(n,o.deps)){s.memoizedState=Fn(e,r,i,n);return}}X.flags|=t,s.memoizedState=Fn(1|e,r,i,n)}function Xa(t,e){return Cs(8390656,8,t,e)}function ql(t,e){return ci(2048,8,t,e)}function pd(t,e){return ci(4,2,t,e)}function md(t,e){return ci(4,4,t,e)}function gd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vd(t,e,r){return r=r!=null?r.concat([t]):null,ci(4,4,gd.bind(null,e,t),r)}function Kl(){}function yd(t,e){var r=Ke();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Wl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function wd(t,e){var r=Ke();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Wl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function _d(t,e,r){return ar&21?(nt(r,e)||(r=Ec(),X.lanes|=r,ur|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Te=!0),t.memoizedState=r)}function Cp(t,e){var r=W;W=r!==0&&4>r?r:4,t(!0);var n=Vi.transition;Vi.transition={};try{t(!1),e()}finally{W=r,Vi.transition=n}}function xd(){return Ke().memoizedState}function Np(t,e,r){var n=zt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kd(t))Sd(e,r);else if(r=nd(t,e,r,n),r!==null){var s=Se();rt(r,t,n,s),jd(r,e,n)}}function bp(t,e,r){var n=zt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kd(t))Sd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,nt(l,o)){var a=e.interleaved;a===null?(s.next=s,Ml(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}r=nd(t,e,s,n),r!==null&&(s=Se(),rt(r,t,n,s),jd(r,e,n))}}function kd(t){var e=t.alternate;return t===X||e!==null&&e===X}function Sd(t,e){xn=Gs=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function jd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jl(t,r)}}var Js={readContext:qe,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},Tp={readContext:qe,useCallback:function(t,e){return it().memoizedState=[t,e===void 0?null:e],t},useContext:qe,useEffect:Xa,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Cs(4194308,4,gd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Cs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cs(4,2,t,e)},useMemo:function(t,e){var r=it();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=it();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Np.bind(null,X,t),[n.memoizedState,t]},useRef:function(t){var e=it();return t={current:t},e.memoizedState=t},useState:Ya,useDebugValue:Kl,useDeferredValue:function(t){return it().memoizedState=t},useTransition:function(){var t=Ya(!1),e=t[0];return t=Cp.bind(null,t[1]),it().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=X,s=it();if(Q){if(r===void 0)throw Error(S(407));r=r()}else{if(r=e(),ce===null)throw Error(S(349));ar&30||ad(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Xa(cd.bind(null,n,i,t),[t]),n.flags|=2048,Fn(9,ud.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=it(),e=ce.identifierPrefix;if(Q){var r=vt,n=gt;r=(n&~(1<<32-tt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=zn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ep++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pp={readContext:qe,useCallback:yd,useContext:qe,useEffect:ql,useImperativeHandle:vd,useInsertionEffect:pd,useLayoutEffect:md,useMemo:wd,useReducer:qi,useRef:fd,useState:function(){return qi(Bn)},useDebugValue:Kl,useDeferredValue:function(t){var e=Ke();return _d(e,se.memoizedState,t)},useTransition:function(){var t=qi(Bn)[0],e=Ke().memoizedState;return[t,e]},useMutableSource:od,useSyncExternalStore:ld,useId:xd,unstable_isNewReconciler:!1},Op={readContext:qe,useCallback:yd,useContext:qe,useEffect:ql,useImperativeHandle:vd,useInsertionEffect:pd,useLayoutEffect:md,useMemo:wd,useReducer:Ki,useRef:fd,useState:function(){return Ki(Bn)},useDebugValue:Kl,useDeferredValue:function(t){var e=Ke();return se===null?e.memoizedState=t:_d(e,se.memoizedState,t)},useTransition:function(){var t=Ki(Bn)[0],e=Ke().memoizedState;return[t,e]},useMutableSource:od,useSyncExternalStore:ld,useId:xd,unstable_isNewReconciler:!1};function Ye(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Do(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Z({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var di={isMounted:function(t){return(t=t._reactInternals)?hr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Se(),s=zt(t),i=yt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Mt(t,i,s),e!==null&&(rt(e,t,s,n),js(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Se(),s=zt(t),i=yt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Mt(t,i,s),e!==null&&(rt(e,t,s,n),js(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Se(),n=zt(t),s=yt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Mt(t,s,n),e!==null&&(rt(e,t,n,r),js(e,t,n))}};function Za(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ln(r,n)||!Ln(s,i):!0}function Ed(t,e,r){var n=!1,s=Wt,i=e.contextType;return typeof i=="object"&&i!==null?i=qe(i):(s=Oe(e)?or:we.current,n=e.contextTypes,i=(n=n!=null)?Br(t,s):Wt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=di,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function eu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&di.enqueueReplaceState(e,e.state,null)}function Mo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Ul(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=qe(i):(i=Oe(e)?or:we.current,s.context=Br(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Do(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&di.enqueueReplaceState(s,s.state,null),qs(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vr(t,e){try{var r="",n=e;do r+=sf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Gi(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Uo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Rp=typeof WeakMap=="function"?WeakMap:Map;function Cd(t,e,r){r=yt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ys||(Ys=!0,Jo=n),Uo(t,e)},r}function Nd(t,e,r){r=yt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Uo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Uo(t,e),typeof n!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function tu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Rp;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=qp.bind(null,t,e,r),e.then(t,t))}function ru(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=yt(-1,1),e.tag=2,Mt(r,e,1))),r.lanes|=1),t)}var Ip=St.ReactCurrentOwner,Te=!1;function ke(t,e,r,n){e.child=t===null?rd(e,null,r,n):Wr(e,t.child,r,n)}function su(t,e,r,n,s){r=r.render;var i=e.ref;return Mr(e,s),n=Hl(t,e,r,n,i,s),r=Vl(),t!==null&&!Te?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(Q&&r&&Rl(e),e.flags|=1,ke(t,e,n,s),e.child)}function iu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!ta(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,bd(t,e,i,n,s)):(t=Ps(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ln,r(o,n)&&t.ref===e.ref)return kt(t,e,s)}return e.flags|=1,t=Bt(i,n),t.ref=e.ref,t.return=e,e.child=t}function bd(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Ln(i,n)&&t.ref===e.ref)if(Te=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Te=!0);else return e.lanes=t.lanes,kt(t,e,s)}return zo(t,e,r,n,s)}function Td(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(Ir,Le),Le|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V(Ir,Le),Le|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,V(Ir,Le),Le|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,V(Ir,Le),Le|=n;return ke(t,e,s,r),e.child}function Pd(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function zo(t,e,r,n,s){var i=Oe(r)?or:we.current;return i=Br(e,i),Mr(e,s),r=Hl(t,e,r,n,i,s),n=Vl(),t!==null&&!Te?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(Q&&n&&Rl(e),e.flags|=1,ke(t,e,r,s),e.child)}function ou(t,e,r,n,s){if(Oe(r)){var i=!0;Bs(e)}else i=!1;if(Mr(e,s),e.stateNode===null)Ns(t,e),Ed(e,r,n),Mo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=qe(c):(c=Oe(r)?or:we.current,c=Br(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||a!==c)&&eu(e,o,n,c),bt=!1;var f=e.memoizedState;o.state=f,qs(e,n,o,s),a=e.memoizedState,l!==n||f!==a||Pe.current||bt?(typeof d=="function"&&(Do(e,r,d,n),a=e.memoizedState),(l=bt||Za(e,r,l,n,f,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=a),o.props=n,o.state=a,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,sd(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Ye(e.type,l),o.props=c,h=e.pendingProps,f=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=qe(a):(a=Oe(r)?or:we.current,a=Br(e,a));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&eu(e,o,n,a),bt=!1,f=e.memoizedState,o.state=f,qs(e,n,o,s);var w=e.memoizedState;l!==h||f!==w||Pe.current||bt?(typeof v=="function"&&(Do(e,r,v,n),w=e.memoizedState),(c=bt||Za(e,r,c,n,f,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),o.props=n,o.state=w,o.context=a,n=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Bo(t,e,r,n,i,s)}function Bo(t,e,r,n,s,i){Pd(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Va(e,r,!1),kt(t,e,i);n=e.stateNode,Ip.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Wr(e,t.child,null,i),e.child=Wr(e,null,l,i)):ke(t,e,l,i),e.memoizedState=n.state,s&&Va(e,r,!0),e.child}function Od(t){var e=t.stateNode;e.pendingContext?Ha(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ha(t,e.context,!1),zl(t,e.containerInfo)}function lu(t,e,r,n,s){return Fr(),Ll(s),e.flags|=256,ke(t,e,r,n),e.child}var Fo={dehydrated:null,treeContext:null,retryLane:0};function Wo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rd(t,e,r){var n=e.pendingProps,s=Y.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),V(Y,s&1),t===null)return $o(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pi(o,n,0,null),t=ir(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Wo(r),e.memoizedState=Fo,t):Gl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Lp(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=Bt(s,a),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Bt(l,i):(i=ir(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Wo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Fo,n}return i=t.child,t=i.sibling,n=Bt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Gl(t,e){return e=pi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hs(t,e,r,n){return n!==null&&Ll(n),Wr(e,t.child,null,r),t=Gl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lp(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Gi(Error(S(422))),hs(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=pi({mode:"visible",children:n.children},s,0,null),i=ir(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Wr(e,t.child,null,o),e.child.memoizedState=Wo(o),e.memoizedState=Fo,i);if(!(e.mode&1))return hs(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(S(419)),n=Gi(i,n,void 0),hs(t,e,o,n)}if(l=(o&t.childLanes)!==0,Te||l){if(n=ce,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xt(t,s),rt(n,t,s,-1))}return ea(),n=Gi(Error(S(421))),hs(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Kp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$e=Dt(s.nextSibling),Ae=e,Q=!0,et=null,t!==null&&(ze[Be++]=gt,ze[Be++]=vt,ze[Be++]=lr,gt=t.id,vt=t.overflow,lr=e),e=Gl(e,n.children),e.flags|=4096,e)}function au(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ao(t.return,e,r)}function Ji(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Id(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ke(t,e,n.children,r),n=Y.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&au(t,r,e);else if(t.tag===19)au(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(V(Y,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ks(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Ji(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ks(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Ji(e,!0,r,null,i);break;case"together":Ji(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ns(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ur|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,r=Bt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Bt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function $p(t,e,r){switch(e.tag){case 3:Od(e),Fr();break;case 5:id(e);break;case 1:Oe(e.type)&&Bs(e);break;case 4:zl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;V(Hs,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(V(Y,Y.current&1),e.flags|=128,null):r&e.child.childLanes?Rd(t,e,r):(V(Y,Y.current&1),t=kt(t,e,r),t!==null?t.sibling:null);V(Y,Y.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Id(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(Y,Y.current),n)break;return null;case 22:case 23:return e.lanes=0,Td(t,e,r)}return kt(t,e,r)}var Ld,Ho,$d,Ad;Ld=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ho=function(){};$d=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,nr(at.current);var i=null;switch(r){case"input":s=ho(t,s),n=ho(t,n),i=[];break;case"select":s=Z({},s,{value:void 0}),n=Z({},n,{value:void 0}),i=[];break;case"textarea":s=mo(t,s),n=mo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Us)}vo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var a=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(i||(i=[]),i.push(c,r)),r=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nn.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&K("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Ad=function(t,e,r,n){r!==n&&(e.flags|=4)};function ln(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Ap(t,e,r){var n=e.pendingProps;switch(Il(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return Oe(e.type)&&zs(),ge(e),null;case 3:return n=e.stateNode,Hr(),G(Pe),G(we),Fl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(cs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,et!==null&&(Xo(et),et=null))),Ho(t,e),ge(e),null;case 5:Bl(e);var s=nr(Un.current);if(r=e.type,t!==null&&e.stateNode!=null)$d(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(S(166));return ge(e),null}if(t=nr(at.current),cs(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ot]=e,n[Dn]=i,t=(e.mode&1)!==0,r){case"dialog":K("cancel",n),K("close",n);break;case"iframe":case"object":case"embed":K("load",n);break;case"video":case"audio":for(s=0;s<pn.length;s++)K(pn[s],n);break;case"source":K("error",n);break;case"img":case"image":case"link":K("error",n),K("load",n);break;case"details":K("toggle",n);break;case"input":va(n,i),K("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},K("invalid",n);break;case"textarea":wa(n,i),K("invalid",n)}vo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&us(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&us(n.textContent,l,t),s=["children",""+l]):Nn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&K("scroll",n)}switch(r){case"input":ts(n),ya(n,i,!0);break;case"textarea":ts(n),_a(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Us)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ot]=e,t[Dn]=n,Ld(t,e,!1,!1),e.stateNode=t;e:{switch(o=yo(r,n),r){case"dialog":K("cancel",t),K("close",t),s=n;break;case"iframe":case"object":case"embed":K("load",t),s=n;break;case"video":case"audio":for(s=0;s<pn.length;s++)K(pn[s],t);s=n;break;case"source":K("error",t),s=n;break;case"img":case"image":case"link":K("error",t),K("load",t),s=n;break;case"details":K("toggle",t),s=n;break;case"input":va(t,n),s=ho(t,n),K("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Z({},n,{value:void 0}),K("invalid",t);break;case"textarea":wa(t,n),s=mo(t,n),K("invalid",t);break;default:s=n}vo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?fc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&dc(t,a)):i==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&bn(t,a):typeof a=="number"&&bn(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nn.hasOwnProperty(i)?a!=null&&i==="onScroll"&&K("scroll",t):a!=null&&yl(t,i,a,o))}switch(r){case"input":ts(t),ya(t,n,!1);break;case"textarea":ts(t),_a(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ft(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Lr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Lr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Us)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ge(e),null;case 6:if(t&&e.stateNode!=null)Ad(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(S(166));if(r=nr(Un.current),nr(at.current),cs(e)){if(n=e.stateNode,r=e.memoizedProps,n[ot]=e,(i=n.nodeValue!==r)&&(t=Ae,t!==null))switch(t.tag){case 3:us(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&us(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ot]=e,e.stateNode=n}return ge(e),null;case 13:if(G(Y),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&$e!==null&&e.mode&1&&!(e.flags&128))ed(),Fr(),e.flags|=98560,i=!1;else if(i=cs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(S(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[ot]=e}else Fr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ge(e),i=!1}else et!==null&&(Xo(et),et=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?ie===0&&(ie=3):ea())),e.updateQueue!==null&&(e.flags|=4),ge(e),null);case 4:return Hr(),Ho(t,e),t===null&&$n(e.stateNode.containerInfo),ge(e),null;case 10:return Dl(e.type._context),ge(e),null;case 17:return Oe(e.type)&&zs(),ge(e),null;case 19:if(G(Y),i=e.memoizedState,i===null)return ge(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)ln(i,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ks(t),o!==null){for(e.flags|=128,ln(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return V(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&re()>qr&&(e.flags|=128,n=!0,ln(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ks(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ln(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return ge(e),null}else 2*re()-i.renderingStartTime>qr&&r!==1073741824&&(e.flags|=128,n=!0,ln(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=re(),e.sibling=null,r=Y.current,V(Y,n?r&1|2:r&1),e):(ge(e),null);case 22:case 23:return Zl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Le&1073741824&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function Dp(t,e){switch(Il(e),e.tag){case 1:return Oe(e.type)&&zs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hr(),G(Pe),G(we),Fl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bl(e),null;case 13:if(G(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));Fr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(Y),null;case 4:return Hr(),null;case 10:return Dl(e.type._context),null;case 22:case 23:return Zl(),null;case 24:return null;default:return null}}var fs=!1,ye=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,P=null;function Rr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ee(t,e,n)}else r.current=null}function Vo(t,e,r){try{r()}catch(n){ee(t,e,n)}}var uu=!1;function Up(t,e){if(bo=As,t=Bc(),Ol(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(a=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===r&&++c===s&&(l=o),f===i&&++d===n&&(a=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(To={focusedElem:t,selectionRange:r},As=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,C=w.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ye(e.type,_),C);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(y){ee(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return w=uu,uu=!1,w}function kn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vo(e,r,i)}s=s.next}while(s!==n)}}function hi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function qo(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Dd(t){var e=t.alternate;e!==null&&(t.alternate=null,Dd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ot],delete e[Dn],delete e[Ro],delete e[xp],delete e[kp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Md(t){return t.tag===5||t.tag===3||t.tag===4}function cu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Md(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ko(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Us));else if(n!==4&&(t=t.child,t!==null))for(Ko(t,e,r),t=t.sibling;t!==null;)Ko(t,e,r),t=t.sibling}function Go(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Go(t,e,r),t=t.sibling;t!==null;)Go(t,e,r),t=t.sibling}var de=null,Xe=!1;function jt(t,e,r){for(r=r.child;r!==null;)Ud(t,e,r),r=r.sibling}function Ud(t,e,r){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(si,r)}catch{}switch(r.tag){case 5:ye||Rr(r,e);case 6:var n=de,s=Xe;de=null,jt(t,e,r),de=n,Xe=s,de!==null&&(Xe?(t=de,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Xe?(t=de,r=r.stateNode,t.nodeType===8?Fi(t.parentNode,r):t.nodeType===1&&Fi(t,r),Rn(t)):Fi(de,r.stateNode));break;case 4:n=de,s=Xe,de=r.stateNode.containerInfo,Xe=!0,jt(t,e,r),de=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Vo(r,e,o),s=s.next}while(s!==n)}jt(t,e,r);break;case 1:if(!ye&&(Rr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ee(r,e,l)}jt(t,e,r);break;case 21:jt(t,e,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,jt(t,e,r),ye=n):jt(t,e,r);break;default:jt(t,e,r)}}function du(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Mp),e.forEach(function(n){var s=Gp.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Je(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:de=l.stateNode,Xe=!1;break e;case 3:de=l.stateNode.containerInfo,Xe=!0;break e;case 4:de=l.stateNode.containerInfo,Xe=!0;break e}l=l.return}if(de===null)throw Error(S(160));Ud(i,o,s),de=null,Xe=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){ee(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zd(e,t),e=e.sibling}function zd(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Je(e,t),st(t),n&4){try{kn(3,t,t.return),hi(3,t)}catch(_){ee(t,t.return,_)}try{kn(5,t,t.return)}catch(_){ee(t,t.return,_)}}break;case 1:Je(e,t),st(t),n&512&&r!==null&&Rr(r,r.return);break;case 5:if(Je(e,t),st(t),n&512&&r!==null&&Rr(r,r.return),t.flags&32){var s=t.stateNode;try{bn(s,"")}catch(_){ee(t,t.return,_)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ac(s,i),yo(l,o);var c=yo(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?fc(s,h):d==="dangerouslySetInnerHTML"?dc(s,h):d==="children"?bn(s,h):yl(s,d,h,c)}switch(l){case"input":fo(s,i);break;case"textarea":uc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Lr(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Lr(s,!!i.multiple,i.defaultValue,!0):Lr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Dn]=i}catch(_){ee(t,t.return,_)}}break;case 6:if(Je(e,t),st(t),n&4){if(t.stateNode===null)throw Error(S(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){ee(t,t.return,_)}}break;case 3:if(Je(e,t),st(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rn(e.containerInfo)}catch(_){ee(t,t.return,_)}break;case 4:Je(e,t),st(t);break;case 13:Je(e,t),st(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yl=re())),n&4&&du(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ye=(c=ye)||d,Je(e,t),ye=c):Je(e,t),st(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(P=t,d=t.child;d!==null;){for(h=P=d;P!==null;){switch(f=P,v=f.child,f.tag){case 0:case 11:case 14:case 15:kn(4,f,f.return);break;case 1:Rr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){ee(n,r,_)}}break;case 5:Rr(f,f.return);break;case 22:if(f.memoizedState!==null){fu(h);continue}}v!==null?(v.return=f,P=v):fu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=hc("display",o))}catch(_){ee(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){ee(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Je(e,t),st(t),n&4&&du(t);break;case 21:break;default:Je(e,t),st(t)}}function st(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Md(r)){var n=r;break e}r=r.return}throw Error(S(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(bn(s,""),n.flags&=-33);var i=cu(t);Go(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=cu(t);Ko(t,l,o);break;default:throw Error(S(161))}}catch(a){ee(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zp(t,e,r){P=t,Bd(t)}function Bd(t,e,r){for(var n=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||fs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ye;l=fs;var c=ye;if(fs=o,(ye=a)&&!c)for(P=s;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?pu(s):a!==null?(a.return=o,P=a):pu(s);for(;i!==null;)P=i,Bd(i),i=i.sibling;P=s,fs=l,ye=c}hu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):hu(t)}}function hu(t){for(;P!==null;){var e=P;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||hi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ye(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Qa(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Qa(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Rn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}ye||e.flags&512&&qo(e)}catch(f){ee(e,e.return,f)}}if(e===t){P=null;break}if(r=e.sibling,r!==null){r.return=e.return,P=r;break}P=e.return}}function fu(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var r=e.sibling;if(r!==null){r.return=e.return,P=r;break}P=e.return}}function pu(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{hi(4,e)}catch(a){ee(e,r,a)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(a){ee(e,s,a)}}var i=e.return;try{qo(e)}catch(a){ee(e,i,a)}break;case 5:var o=e.return;try{qo(e)}catch(a){ee(e,o,a)}}}catch(a){ee(e,e.return,a)}if(e===t){P=null;break}var l=e.sibling;if(l!==null){l.return=e.return,P=l;break}P=e.return}}var Bp=Math.ceil,Qs=St.ReactCurrentDispatcher,Jl=St.ReactCurrentOwner,We=St.ReactCurrentBatchConfig,B=0,ce=null,ne=null,he=0,Le=0,Ir=Vt(0),ie=0,Wn=null,ur=0,fi=0,Ql=0,Sn=null,Ne=null,Yl=0,qr=1/0,ht=null,Ys=!1,Jo=null,Ut=null,ps=!1,It=null,Xs=0,jn=0,Qo=null,bs=-1,Ts=0;function Se(){return B&6?re():bs!==-1?bs:bs=re()}function zt(t){return t.mode&1?B&2&&he!==0?he&-he:jp.transition!==null?(Ts===0&&(Ts=Ec()),Ts):(t=W,t!==0||(t=window.event,t=t===void 0?16:Rc(t.type)),t):1}function rt(t,e,r,n){if(50<jn)throw jn=0,Qo=null,Error(S(185));qn(t,r,n),(!(B&2)||t!==ce)&&(t===ce&&(!(B&2)&&(fi|=r),ie===4&&Pt(t,he)),Re(t,n),r===1&&B===0&&!(e.mode&1)&&(qr=re()+500,ui&&qt()))}function Re(t,e){var r=t.callbackNode;jf(t,e);var n=$s(t,t===ce?he:0);if(n===0)r!==null&&Sa(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Sa(r),e===1)t.tag===0?Sp(mu.bind(null,t)):Yc(mu.bind(null,t)),wp(function(){!(B&6)&&qt()}),r=null;else{switch(Cc(n)){case 1:r=Sl;break;case 4:r=Sc;break;case 16:r=Ls;break;case 536870912:r=jc;break;default:r=Ls}r=Jd(r,Fd.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Fd(t,e){if(bs=-1,Ts=0,B&6)throw Error(S(327));var r=t.callbackNode;if(Ur()&&t.callbackNode!==r)return null;var n=$s(t,t===ce?he:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Zs(t,n);else{e=n;var s=B;B|=2;var i=Hd();(ce!==t||he!==e)&&(ht=null,qr=re()+500,sr(t,e));do try{Hp();break}catch(l){Wd(t,l)}while(!0);Al(),Qs.current=i,B=s,ne!==null?e=0:(ce=null,he=0,e=ie)}if(e!==0){if(e===2&&(s=So(t),s!==0&&(n=s,e=Yo(t,s))),e===1)throw r=Wn,sr(t,0),Pt(t,n),Re(t,re()),r;if(e===6)Pt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Fp(s)&&(e=Zs(t,n),e===2&&(i=So(t),i!==0&&(n=i,e=Yo(t,i))),e===1))throw r=Wn,sr(t,0),Pt(t,n),Re(t,re()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(S(345));case 2:Xt(t,Ne,ht);break;case 3:if(Pt(t,n),(n&130023424)===n&&(e=Yl+500-re(),10<e)){if($s(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Se(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Oo(Xt.bind(null,t,Ne,ht),e);break}Xt(t,Ne,ht);break;case 4:if(Pt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-tt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Bp(n/1960))-n,10<n){t.timeoutHandle=Oo(Xt.bind(null,t,Ne,ht),n);break}Xt(t,Ne,ht);break;case 5:Xt(t,Ne,ht);break;default:throw Error(S(329))}}}return Re(t,re()),t.callbackNode===r?Fd.bind(null,t):null}function Yo(t,e){var r=Sn;return t.current.memoizedState.isDehydrated&&(sr(t,e).flags|=256),t=Zs(t,e),t!==2&&(e=Ne,Ne=r,e!==null&&Xo(e)),t}function Xo(t){Ne===null?Ne=t:Ne.push.apply(Ne,t)}function Fp(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!nt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pt(t,e){for(e&=~Ql,e&=~fi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-tt(e),n=1<<r;t[r]=-1,e&=~n}}function mu(t){if(B&6)throw Error(S(327));Ur();var e=$s(t,0);if(!(e&1))return Re(t,re()),null;var r=Zs(t,e);if(t.tag!==0&&r===2){var n=So(t);n!==0&&(e=n,r=Yo(t,n))}if(r===1)throw r=Wn,sr(t,0),Pt(t,e),Re(t,re()),r;if(r===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xt(t,Ne,ht),Re(t,re()),null}function Xl(t,e){var r=B;B|=1;try{return t(e)}finally{B=r,B===0&&(qr=re()+500,ui&&qt())}}function cr(t){It!==null&&It.tag===0&&!(B&6)&&Ur();var e=B;B|=1;var r=We.transition,n=W;try{if(We.transition=null,W=1,t)return t()}finally{W=n,We.transition=r,B=e,!(B&6)&&qt()}}function Zl(){Le=Ir.current,G(Ir)}function sr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,yp(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(Il(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zs();break;case 3:Hr(),G(Pe),G(we),Fl();break;case 5:Bl(n);break;case 4:Hr();break;case 13:G(Y);break;case 19:G(Y);break;case 10:Dl(n.type._context);break;case 22:case 23:Zl()}r=r.return}if(ce=t,ne=t=Bt(t.current,null),he=Le=e,ie=0,Wn=null,Ql=fi=ur=0,Ne=Sn=null,rr!==null){for(e=0;e<rr.length;e++)if(r=rr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}rr=null}return t}function Wd(t,e){do{var r=ne;try{if(Al(),Es.current=Js,Gs){for(var n=X.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Gs=!1}if(ar=0,ue=se=X=null,xn=!1,zn=0,Jl.current=null,r===null||r.return===null){ie=1,Wn=e,ne=null;break}e:{var i=t,o=r.return,l=r,a=e;if(e=he,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=ru(o);if(v!==null){v.flags&=-257,nu(v,o,l,i,e),v.mode&1&&tu(i,c,e),e=v,a=c;var w=e.updateQueue;if(w===null){var _=new Set;_.add(a),e.updateQueue=_}else w.add(a);break e}else{if(!(e&1)){tu(i,c,e),ea();break e}a=Error(S(426))}}else if(Q&&l.mode&1){var C=ru(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),nu(C,o,l,i,e),Ll(Vr(a,l));break e}}i=a=Vr(a,l),ie!==4&&(ie=2),Sn===null?Sn=[i]:Sn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Cd(i,a,e);Ja(i,g);break e;case 1:l=a;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ut===null||!Ut.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=Nd(i,l,e);Ja(i,y);break e}}i=i.return}while(i!==null)}qd(r)}catch(k){e=k,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function Hd(){var t=Qs.current;return Qs.current=Js,t===null?Js:t}function ea(){(ie===0||ie===3||ie===2)&&(ie=4),ce===null||!(ur&268435455)&&!(fi&268435455)||Pt(ce,he)}function Zs(t,e){var r=B;B|=2;var n=Hd();(ce!==t||he!==e)&&(ht=null,sr(t,e));do try{Wp();break}catch(s){Wd(t,s)}while(!0);if(Al(),B=r,Qs.current=n,ne!==null)throw Error(S(261));return ce=null,he=0,ie}function Wp(){for(;ne!==null;)Vd(ne)}function Hp(){for(;ne!==null&&!mf();)Vd(ne)}function Vd(t){var e=Gd(t.alternate,t,Le);t.memoizedProps=t.pendingProps,e===null?qd(t):ne=e,Jl.current=null}function qd(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Dp(r,e),r!==null){r.flags&=32767,ne=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ie=6,ne=null;return}}else if(r=Ap(r,e,Le),r!==null){ne=r;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);ie===0&&(ie=5)}function Xt(t,e,r){var n=W,s=We.transition;try{We.transition=null,W=1,Vp(t,e,r,n)}finally{We.transition=s,W=n}return null}function Vp(t,e,r,n){do Ur();while(It!==null);if(B&6)throw Error(S(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Ef(t,i),t===ce&&(ne=ce=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ps||(ps=!0,Jd(Ls,function(){return Ur(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=W;W=1;var l=B;B|=4,Jl.current=null,Up(t,r),zd(r,t),dp(To),As=!!bo,To=bo=null,t.current=r,zp(r),gf(),B=l,W=o,We.transition=i}else t.current=r;if(ps&&(ps=!1,It=t,Xs=s),i=t.pendingLanes,i===0&&(Ut=null),wf(r.stateNode),Re(t,re()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ys)throw Ys=!1,t=Jo,Jo=null,t;return Xs&1&&t.tag!==0&&Ur(),i=t.pendingLanes,i&1?t===Qo?jn++:(jn=0,Qo=t):jn=0,qt(),null}function Ur(){if(It!==null){var t=Cc(Xs),e=We.transition,r=W;try{if(We.transition=null,W=16>t?16:t,It===null)var n=!1;else{if(t=It,It=null,Xs=0,B&6)throw Error(S(331));var s=B;for(B|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(P=c;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:kn(8,d,i)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var f=d.sibling,v=d.return;if(Dd(d),d===c){P=null;break}if(f!==null){f.return=v,P=f;break}P=v}}}var w=i.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var C=_.sibling;_.sibling=null,_=C}while(_!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:kn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var p=t.current;for(P=p;P!==null;){o=P;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,P=m;else e:for(o=p;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hi(9,l)}}catch(k){ee(l,l.return,k)}if(l===o){P=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,P=y;break e}P=l.return}}if(B=s,qt(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(si,t)}catch{}n=!0}return n}finally{W=r,We.transition=e}}return!1}function gu(t,e,r){e=Vr(r,e),e=Cd(t,e,1),t=Mt(t,e,1),e=Se(),t!==null&&(qn(t,1,e),Re(t,e))}function ee(t,e,r){if(t.tag===3)gu(t,t,r);else for(;e!==null;){if(e.tag===3){gu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ut===null||!Ut.has(n))){t=Vr(r,t),t=Nd(e,t,1),e=Mt(e,t,1),t=Se(),e!==null&&(qn(e,1,t),Re(e,t));break}}e=e.return}}function qp(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Se(),t.pingedLanes|=t.suspendedLanes&r,ce===t&&(he&r)===r&&(ie===4||ie===3&&(he&130023424)===he&&500>re()-Yl?sr(t,0):Ql|=r),Re(t,e)}function Kd(t,e){e===0&&(t.mode&1?(e=ss,ss<<=1,!(ss&130023424)&&(ss=4194304)):e=1);var r=Se();t=xt(t,e),t!==null&&(qn(t,e,r),Re(t,r))}function Kp(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Kd(t,r)}function Gp(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(S(314))}n!==null&&n.delete(e),Kd(t,r)}var Gd;Gd=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)Te=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Te=!1,$p(t,e,r);Te=!!(t.flags&131072)}else Te=!1,Q&&e.flags&1048576&&Xc(e,Ws,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ns(t,e),t=e.pendingProps;var s=Br(e,we.current);Mr(e,r),s=Hl(null,e,n,t,s,r);var i=Vl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oe(n)?(i=!0,Bs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ul(e),s.updater=di,e.stateNode=s,s._reactInternals=e,Mo(e,n,t,r),e=Bo(null,e,n,!0,i,r)):(e.tag=0,Q&&i&&Rl(e),ke(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ns(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Qp(n),t=Ye(n,t),s){case 0:e=zo(null,e,n,t,r);break e;case 1:e=ou(null,e,n,t,r);break e;case 11:e=su(null,e,n,t,r);break e;case 14:e=iu(null,e,n,Ye(n.type,t),r);break e}throw Error(S(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),zo(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),ou(t,e,n,s,r);case 3:e:{if(Od(e),t===null)throw Error(S(387));n=e.pendingProps,i=e.memoizedState,s=i.element,sd(t,e),qs(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vr(Error(S(423)),e),e=lu(t,e,n,r,s);break e}else if(n!==s){s=Vr(Error(S(424)),e),e=lu(t,e,n,r,s);break e}else for($e=Dt(e.stateNode.containerInfo.firstChild),Ae=e,Q=!0,et=null,r=rd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fr(),n===s){e=kt(t,e,r);break e}ke(t,e,n,r)}e=e.child}return e;case 5:return id(e),t===null&&$o(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Po(n,s)?o=null:i!==null&&Po(n,i)&&(e.flags|=32),Pd(t,e),ke(t,e,o,r),e.child;case 6:return t===null&&$o(e),null;case 13:return Rd(t,e,r);case 4:return zl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Wr(e,null,n,r):ke(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),su(t,e,n,s,r);case 7:return ke(t,e,e.pendingProps,r),e.child;case 8:return ke(t,e,e.pendingProps.children,r),e.child;case 12:return ke(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,V(Hs,n._currentValue),n._currentValue=o,i!==null)if(nt(i.value,o)){if(i.children===s.children&&!Pe.current){e=kt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=yt(-1,r&-r),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Ao(i.return,r,e),l.lanes|=r;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ao(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ke(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Mr(e,r),s=qe(s),n=n(s),e.flags|=1,ke(t,e,n,r),e.child;case 14:return n=e.type,s=Ye(n,e.pendingProps),s=Ye(n.type,s),iu(t,e,n,s,r);case 15:return bd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),Ns(t,e),e.tag=1,Oe(n)?(t=!0,Bs(e)):t=!1,Mr(e,r),Ed(e,n,s),Mo(e,n,s,r),Bo(null,e,n,!0,t,r);case 19:return Id(t,e,r);case 22:return Td(t,e,r)}throw Error(S(156,e.tag))};function Jd(t,e){return kc(t,e)}function Jp(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(t,e,r,n){return new Jp(t,e,r,n)}function ta(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qp(t){if(typeof t=="function")return ta(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_l)return 11;if(t===xl)return 14}return 2}function Bt(t,e){var r=t.alternate;return r===null?(r=Fe(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ps(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")ta(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Sr:return ir(r.children,s,i,e);case wl:o=8,s|=8;break;case lo:return t=Fe(12,r,e,s|2),t.elementType=lo,t.lanes=i,t;case ao:return t=Fe(13,r,e,s),t.elementType=ao,t.lanes=i,t;case uo:return t=Fe(19,r,e,s),t.elementType=uo,t.lanes=i,t;case ic:return pi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nc:o=10;break e;case sc:o=9;break e;case _l:o=11;break e;case xl:o=14;break e;case Nt:o=16,n=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=Fe(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function ir(t,e,r,n){return t=Fe(7,t,n,e),t.lanes=r,t}function pi(t,e,r,n){return t=Fe(22,t,n,e),t.elementType=ic,t.lanes=r,t.stateNode={isHidden:!1},t}function Qi(t,e,r){return t=Fe(6,t,null,e),t.lanes=r,t}function Yi(t,e,r){return e=Fe(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yp(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ra(t,e,r,n,s,i,o,l,a){return t=new Yp(t,e,r,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ul(i),t}function Xp(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Qd(t){if(!t)return Wt;t=t._reactInternals;e:{if(hr(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var r=t.type;if(Oe(r))return Qc(t,r,e)}return e}function Yd(t,e,r,n,s,i,o,l,a){return t=ra(r,n,!0,t,s,i,o,l,a),t.context=Qd(null),r=t.current,n=Se(),s=zt(r),i=yt(n,s),i.callback=e??null,Mt(r,i,s),t.current.lanes=s,qn(t,s,n),Re(t,n),t}function mi(t,e,r,n){var s=e.current,i=Se(),o=zt(s);return r=Qd(r),e.context===null?e.context=r:e.pendingContext=r,e=yt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Mt(s,e,o),t!==null&&(rt(t,s,o,i),js(t,s,o)),o}function ei(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function na(t,e){vu(t,e),(t=t.alternate)&&vu(t,e)}function Zp(){return null}var Xd=typeof reportError=="function"?reportError:function(t){console.error(t)};function sa(t){this._internalRoot=t}gi.prototype.render=sa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));mi(t,e,null,null)};gi.prototype.unmount=sa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cr(function(){mi(null,t,null,null)}),e[_t]=null}};function gi(t){this._internalRoot=t}gi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Tc();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Tt.length&&e!==0&&e<Tt[r].priority;r++);Tt.splice(r,0,t),r===0&&Oc(t)}};function ia(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yu(){}function e0(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ei(o);i.call(c)}}var o=Yd(e,n,t,0,null,!1,!1,"",yu);return t._reactRootContainer=o,t[_t]=o.current,$n(t.nodeType===8?t.parentNode:t),cr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=ei(a);l.call(c)}}var a=ra(t,0,!1,null,null,!1,!1,"",yu);return t._reactRootContainer=a,t[_t]=a.current,$n(t.nodeType===8?t.parentNode:t),cr(function(){mi(e,a,r,n)}),a}function yi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ei(o);l.call(a)}}mi(e,o,t,s)}else o=e0(r,e,t,s,n);return ei(o)}Nc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=fn(e.pendingLanes);r!==0&&(jl(e,r|1),Re(e,re()),!(B&6)&&(qr=re()+500,qt()))}break;case 13:cr(function(){var n=xt(t,1);if(n!==null){var s=Se();rt(n,t,1,s)}}),na(t,1)}};El=function(t){if(t.tag===13){var e=xt(t,134217728);if(e!==null){var r=Se();rt(e,t,134217728,r)}na(t,134217728)}};bc=function(t){if(t.tag===13){var e=zt(t),r=xt(t,e);if(r!==null){var n=Se();rt(r,t,e,n)}na(t,e)}};Tc=function(){return W};Pc=function(t,e){var r=W;try{return W=t,e()}finally{W=r}};_o=function(t,e,r){switch(e){case"input":if(fo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ai(n);if(!s)throw Error(S(90));lc(n),fo(n,s)}}}break;case"textarea":uc(t,r);break;case"select":e=r.value,e!=null&&Lr(t,!!r.multiple,e,!1)}};gc=Xl;vc=cr;var t0={usingClientEntryPoint:!1,Events:[Gn,Nr,ai,pc,mc,Xl]},an={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r0={bundleType:an.bundleType,version:an.version,rendererPackageName:an.rendererPackageName,rendererConfig:an.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_c(t),t===null?null:t.stateNode},findFiberByHostInstance:an.findFiberByHostInstance||Zp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{si=ms.inject(r0),lt=ms}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t0;Me.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ia(e))throw Error(S(200));return Xp(t,e,null,r)};Me.createRoot=function(t,e){if(!ia(t))throw Error(S(299));var r=!1,n="",s=Xd;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ra(t,1,!1,null,null,r,!1,n,s),t[_t]=e.current,$n(t.nodeType===8?t.parentNode:t),new sa(e)};Me.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=_c(e),t=t===null?null:t.stateNode,t};Me.flushSync=function(t){return cr(t)};Me.hydrate=function(t,e,r){if(!vi(e))throw Error(S(200));return yi(null,t,e,!0,r)};Me.hydrateRoot=function(t,e,r){if(!ia(t))throw Error(S(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Xd;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Yd(e,null,t,1,r??null,s,!1,i,o),t[_t]=e.current,$n(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new gi(e)};Me.render=function(t,e,r){if(!vi(e))throw Error(S(200));return yi(null,t,e,!1,r)};Me.unmountComponentAtNode=function(t){if(!vi(t))throw Error(S(40));return t._reactRootContainer?(cr(function(){yi(null,null,t,!1,function(){t._reactRootContainer=null,t[_t]=null})}),!0):!1};Me.unstable_batchedUpdates=Xl;Me.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!vi(r))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return yi(t,e,r,!1,n)};Me.version="18.3.1-next-f1338f8080-20240426";function Zd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zd)}catch(t){console.error(t)}}Zd(),Zu.exports=Me;var n0=Zu.exports,eh,wu=n0;eh=wu.createRoot,wu.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ut=(t,e)=>{const r=I.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...c},d)=>I.createElement("svg",{ref:d,...s0,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${i0(t)}`,l].join(" "),...c},[...e.map(([h,f])=>I.createElement(h,f)),...Array.isArray(a)?a:[a]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=ut("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=ut("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=ut("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=ut("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),c0=async t=>{try{const e="a18021ea544a00d65b5befab61e61a34",n=await fetch("https://api.line.me/oauth2/v2.1/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:"http://localhost:5173/auth/callback",client_id:"2007845041",client_secret:e})});if(!n.ok){const s=await n.json().catch(()=>({}));throw console.error("LINE API エラー:",s),new Error("トークン交換に失敗しました")}return n.json()}catch(e){throw console.error("ネットワークエラー:",e),e instanceof TypeError&&e.message.includes("fetch")?new Error("ネットワーク接続エラー：インターネット接続を確認してください"):e}},d0=t=>{try{const e=JSON.parse(atob(t.split(".")[1])),r=Math.floor(Date.now()/1e3);if(e.exp&&e.exp<r)throw new Error("IDトークンの有効期限が切れています");if(e.iss!=="https://access.line.me")throw new Error("IDトークンのissuerが無効です");if(e.aud!=="2007845041")throw new Error("IDトークンのaudienceが無効です");return{userId:e.sub,displayName:e.name||"LINE ユーザー",pictureUrl:e.picture,email:e.email}}catch(e){throw console.error("IDトークン検証エラー:",e),new Error("IDトークンの検証に失敗しました")}},h0=async t=>{const r=await fetch("https://api.line.me/v2/profile",{headers:{Authorization:`Bearer ${t}`}});if(!r.ok){const s=await r.json().catch(()=>({}));throw console.error("プロフィール取得エラー:",s),new Error("ユーザープロフィール取得に失敗しました")}const n=await r.json();return{userId:n.userId,displayName:n.displayName,pictureUrl:n.pictureUrl,email:void 0}},_u=t=>{const e=localStorage.getItem("line_auth_timestamp");if(!e)return!0;const r=parseInt(e),n=Date.now(),s=24*60*60*1e3;return n-r>s},sh=()=>{localStorage.setItem("line_auth_timestamp",Date.now().toString())},un="line_auth_user",f0={user:null,isAuthenticated:!1,isLoading:!0,error:null};function p0(t,e){switch(e.type){case"LOGIN_START":return{...t,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...t,user:e.payload,isAuthenticated:!0,isLoading:!1,error:null};case"LOGIN_ERROR":return{...t,user:null,isAuthenticated:!1,isLoading:!1,error:e.payload};case"LOGOUT":return{...t,user:null,isAuthenticated:!1,isLoading:!1,error:null};case"CLEAR_ERROR":return{...t,error:null};case"SET_LOADING":return{...t,isLoading:e.payload};default:return t}}const Xi={channelId:"2007845041",redirectUri:"http://localhost:5173/auth/callback",scope:"profile openid email"},ih=I.createContext(void 0),Kt=()=>{const t=I.useContext(ih);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},m0=({children:t})=>{const[e,r]=I.useReducer(p0,f0);I.useEffect(()=>{(async()=>{try{const d=localStorage.getItem(un);if(d){const h=JSON.parse(d);_u(h)?(console.log("セッションが期限切れです。再ログインが必要です。"),localStorage.removeItem(un),localStorage.removeItem("line_auth_timestamp"),r({type:"SET_LOADING",payload:!1})):(sh(),r({type:"LOGIN_SUCCESS",payload:h}))}else r({type:"SET_LOADING",payload:!1})}catch(d){console.error("認証初期化エラー:",d),localStorage.removeItem(un),localStorage.removeItem("line_auth_timestamp"),r({type:"SET_LOADING",payload:!1})}})();const c=setInterval(()=>{const d=localStorage.getItem(un);d&&(JSON.parse(d),_u()&&(console.log("セッションタイムアウトが検出されました。"),i()))},60*60*1e3);return()=>clearInterval(c)},[]);const n=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),s=()=>{r({type:"LOGIN_START"});const a=n();localStorage.setItem("line_login_state",a);const d=`https://access.line.me/oauth2/v2.1/authorize?${new URLSearchParams({response_type:"code",client_id:Xi.channelId,redirect_uri:Xi.redirectUri,state:a,scope:Xi.scope}).toString()}`;try{window.location.href=d}catch(h){console.error("ログイン処理エラー:",h),r({type:"LOGIN_ERROR",payload:"ログイン処理中にエラーが発生しました。"})}},i=()=>{localStorage.removeItem(un),localStorage.removeItem("line_login_state"),localStorage.removeItem("line_auth_timestamp"),r({type:"LOGOUT"})},l={...e,login:s,logout:i,clearError:()=>{r({type:"CLEAR_ERROR"})}};return u.jsx(ih.Provider,{value:l,children:t})},g0="modulepreload",v0=function(t){return"/"+t},xu={},Qn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(a=>{if(a=v0(a),a in xu)return;xu[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":g0,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},y0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Qn(async()=>{const{default:n}=await Promise.resolve().then(()=>Yr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class oa extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class w0 extends oa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ku extends oa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Su extends oa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var rl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(rl||(rl={}));var _0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};class x0{constructor(e,{headers:r={},customFetch:n,region:s=rl.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=y0(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return _0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:a}=r;a||(a=this.region);const c=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,c.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(_=>{throw new w0(_)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new ku(h);if(!h.ok)throw new Su(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield h.json():v==="application/octet-stream"?w=yield h.blob():v==="text/event-stream"?w=h:v==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Su||s instanceof ku?s.context:void 0}}})}}var be={},la={},wi={},Yn={},_i={},xi={},k0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kr=k0();const S0=Kr.fetch,oh=Kr.fetch.bind(Kr),lh=Kr.Headers,j0=Kr.Request,E0=Kr.Response,Yr=Object.freeze(Object.defineProperty({__proto__:null,Headers:lh,Request:j0,Response:E0,default:oh,fetch:S0},Symbol.toStringTag,{value:"Module"})),C0=Ph(Yr);var ki={};Object.defineProperty(ki,"__esModule",{value:!0});let N0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ki.default=N0;var ah=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xi,"__esModule",{value:!0});const b0=ah(C0),T0=ah(ki);let P0=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=b0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let c=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&C&&C.length>1&&(h=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{c=JSON.parse(_),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,v="OK")}catch{i.status===404&&_===""?(f=204,v="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new T0.default(c)}return{error:c,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};xi.default=P0;var O0=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});const R0=O0(xi);let I0=class extends R0.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};_i.default=I0;var L0=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yn,"__esModule",{value:!0});const $0=L0(_i);let A0=class extends $0.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Yn.default=A0;var D0=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});const cn=D0(Yn);let M0=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new cn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new cn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new cn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new cn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new cn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wi.default=M0;var Si={},ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.version=void 0;ji.version="0.0.0-automated";Object.defineProperty(Si,"__esModule",{value:!0});Si.DEFAULT_HEADERS=void 0;const U0=ji;Si.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${U0.version}`};var uh=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(la,"__esModule",{value:!0});const z0=uh(wi),B0=uh(Yn),F0=Si;let W0=class ch{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},F0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new z0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ch(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new B0.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};la.default=W0;var Xr=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(be,"__esModule",{value:!0});be.PostgrestError=be.PostgrestBuilder=be.PostgrestTransformBuilder=be.PostgrestFilterBuilder=be.PostgrestQueryBuilder=be.PostgrestClient=void 0;const dh=Xr(la);be.PostgrestClient=dh.default;const hh=Xr(wi);be.PostgrestQueryBuilder=hh.default;const fh=Xr(Yn);be.PostgrestFilterBuilder=fh.default;const ph=Xr(_i);be.PostgrestTransformBuilder=ph.default;const mh=Xr(xi);be.PostgrestBuilder=mh.default;const gh=Xr(ki);be.PostgrestError=gh.default;var H0=be.default={PostgrestClient:dh.default,PostgrestQueryBuilder:hh.default,PostgrestFilterBuilder:fh.default,PostgrestTransformBuilder:ph.default,PostgrestBuilder:mh.default,PostgrestError:gh.default};const{PostgrestClient:V0,PostgrestQueryBuilder:Kg,PostgrestFilterBuilder:Gg,PostgrestTransformBuilder:Jg,PostgrestBuilder:Qg,PostgrestError:Yg}=H0;function q0(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const K0=q0(),G0="2.11.15",J0=`realtime-js/${G0}`,Q0="1.0.0",vh=1e4,Y0=1e3;var En;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(En||(En={}));var ve;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ve||(ve={}));var Ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ze||(Ze={}));var nl;(function(t){t.websocket="websocket"})(nl||(nl={}));var er;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(er||(er={}));class X0{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const a=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class yh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const ju=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Z0(o,t,e,s),i),{})},Z0=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?wh(i,o):sl(o)},wh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return nm(e,r)}switch(t){case H.bool:return em(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return tm(e);case H.json:case H.jsonb:return rm(e);case H.timestamp:return sm(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return sl(e);default:return sl(e)}},sl=t=>t,em=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},nm=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>wh(e,l))}return t},sm=t=>typeof t=="string"?t.replace(" ","T"):t,_h=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Zi{constructor(e,r,n={},s=vh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Eu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Eu||(Eu={}));class Cn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Cn.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Cn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(C=>C.presence_ref),v=h.map(C=>C.presence_ref),w=d.filter(C=>v.indexOf(C.presence_ref)<0),_=h.filter(C=>f.indexOf(C.presence_ref)<0);w.length>0&&(l[c]=w),_.length>0&&(a[c]=_)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...f)}n(l,d,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,a),c.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Cu||(Cu={}));var Nu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Nu||(Nu={}));var ft;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class aa{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Zi(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new yh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ve.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Cn(this),this.broadcastEndpointURL=_h(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ve.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(ft.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(ft.CLOSED));const a={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(ft.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let _=0;_<v;_++){const C=f[_],{filter:{event:g,schema:p,table:m,filter:y}}=C,k=d&&d[_];if(k&&k.event===g&&k.schema===p&&k.table===m&&k.filter===y)w.push(Object.assign(Object.assign({},C),{id:k.id}));else{this.unsubscribe(),this.state=ve.errored,e==null||e(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(ft.SUBSCRIBED);return}}).receive("error",d=>{this.state=ve.errored,e==null||e(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ve.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Zi(this,Ze.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zi(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=Ze;if(n&&[l,a,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,_,C;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((C=(_=v.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(v=>v.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,_,C,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,k=(w=v.filter)===null||w===void 0?void 0:w.event;return y&&((_=r.ids)===null||_===void 0?void 0:_.includes(y))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const y=(p=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return y==="*"||y===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:_,table:C,commit_timestamp:g,type:p,errors:m}=w;f=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(w))}v.callback(f,n)})}_isClosed(){return this.state===ve.closed}_isJoined(){return this.state===ve.joined}_isJoining(){return this.state===ve.joining}_isLeaving(){return this.state===ve.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&aa.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ze.close,{},e)}_onError(e){this._on(Ze.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ve.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ju(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ju(e.columns,e.old_record)),r}}const bu=()=>{},im=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class om{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bu,this.ref=0,this.logger=bu,this.conn=null,this.sendBuffer=[],this.serializer=new X0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Qn(async()=>{const{default:a}=await Promise.resolve().then(()=>Yr);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${nl.websocket}`,this.httpEndpoint=_h(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new yh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=K0),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Q0}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case En.connecting:return er.Connecting;case En.open:return er.Open;case En.closing:return er.Closing;default:return er.Closed}}isConnected(){return this.connectionState()===er.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new aa(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:J0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Y0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ze.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([im],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ua extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function le(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class lm extends ua{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class il extends ua{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var am=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const xh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Qn(async()=>{const{default:n}=await Promise.resolve().then(()=>Yr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},um=()=>am(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qn(()=>Promise.resolve().then(()=>Yr),void 0)).Response:Response}),ol=t=>{if(Array.isArray(t))return t.map(r=>ol(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ol(n)}),e},cm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var fr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const eo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dm=(t,e,r)=>fr(void 0,void 0,void 0,function*(){const n=yield um();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new lm(eo(s),i,o))}).catch(s=>{e(new il(eo(s),s))}):e(new il(eo(t),t))}),hm=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(cm(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function Xn(t,e,r,n,s,i){return fr(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,hm(e,n,s,i)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>dm(a,l,n))})})}function ti(t,e,r,n){return fr(this,void 0,void 0,function*(){return Xn(t,"GET",e,r,n)})}function pt(t,e,r,n,s){return fr(this,void 0,void 0,function*(){return Xn(t,"POST",e,n,s,r)})}function ll(t,e,r,n,s){return fr(this,void 0,void 0,function*(){return Xn(t,"PUT",e,n,s,r)})}function fm(t,e,r,n){return fr(this,void 0,void 0,function*(){return Xn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function kh(t,e,r,n,s){return fr(this,void 0,void 0,function*(){return Xn(t,"DELETE",e,n,s,r)})}var Ce=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const pm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mm{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=xh(s)}uploadOrUpdate(e,r,n,s){return Ce(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Tu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?ll:pt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Ce(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let a;const c=Object.assign({upsert:Tu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",c.cacheControl)):(a=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield ll(this.fetch,l.toString(),a,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(a){if(le(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,r){return Ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield pt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ua("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Ce(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield pt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Ce(this,void 0,void 0,function*(){try{const s=yield pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}download(e,r){return Ce(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ti(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(le(l))return{data:null,error:l};throw l}})}info(e){return Ce(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ti(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ol(n),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}exists(e){return Ce(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield fm(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(le(n)&&n instanceof il){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ce(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},pm),r),{prefix:e||""});return{data:yield pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const gm="2.10.4",vm={"X-Client-Info":`storage-js/${gm}`};var mr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};class ym{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},vm),r),this.fetch=xh(n)}listBuckets(){return mr(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(le(e))return{data:null,error:e};throw e}})}getBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return mr(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return mr(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}emptyBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}deleteBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}}class wm extends ym{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new mm(this.url,this.headers,e,this.fetch)}}const _m="2.53.0";let mn="";typeof Deno<"u"?mn="deno":typeof document<"u"?mn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mn="react-native":mn="node";const xm={"X-Client-Info":`supabase-js-${mn}/${_m}`},km={headers:xm},Sm={schema:"public"},jm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Em={};var Cm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const Nm=t=>{let e;return t?e=t:typeof fetch>"u"?e=oh:e=fetch,(...r)=>e(...r)},bm=()=>typeof Headers>"u"?lh:Headers,Tm=(t,e,r)=>{const n=Nm(r),s=bm();return(i,o)=>Cm(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Pm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};function Om(t){return t.endsWith("/")?t:t+"/"}function Rm(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Pm(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Sh="2.71.1",_r=30*1e3,al=3,to=al*_r,Im="http://localhost:9999",Lm="supabase.auth.token",$m={"X-Client-Info":`gotrue-js/${Sh}`},ul="X-Supabase-Api-Version",jh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Am=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dm=10*60*1e3;class ca extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Mm extends ca{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Um(t){return L(t)&&t.name==="AuthApiError"}class Eh extends ca{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Gt extends ca{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ct extends Gt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zm(t){return L(t)&&t.name==="AuthSessionMissingError"}class gs extends Gt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vs extends Gt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ys extends Gt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Bm(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class Pu extends Gt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cl extends Gt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ro(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Ou extends Gt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class dl extends Gt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ru=` 	
\r=`.split(""),Fm=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ru.length;e+=1)t[Ru[e].charCodeAt(0)]=-2;for(let e=0;e<ri.length;e+=1)t[ri[e].charCodeAt(0)]=e;return t})();function Iu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ri[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ri[n]),e.queuedBits-=6}}function Ch(t,e,r){const n=Fm[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Lu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Vm(o,n,r)};for(let o=0;o<t.length;o+=1)Ch(t.charCodeAt(o),s,i);return e.join("")}function Wm(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Hm(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Wm(n,e)}}function Vm(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function qm(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Ch(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Km(t){const e=[];return Hm(t,r=>e.push(r)),new Uint8Array(e)}function Gm(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Iu(s,r,n)),Iu(null,r,n),e.join("")}function Jm(t){return Math.round(Date.now()/1e3)+t}function Qm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",Jt={tested:!1,writable:!1},Nh=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jt.tested)return Jt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jt.tested=!0,Jt.writable=!0}catch{Jt.tested=!0,Jt.writable=!1}return Jt.writable};function Ym(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const bh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Qn(async()=>{const{default:n}=await Promise.resolve().then(()=>Yr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Xm=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Qt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Et=async(t,e)=>{await t.removeItem(e)};class Ei{constructor(){this.promise=new Ei.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ei.promiseConstructor=Promise;function no(t){const e=t.split(".");if(e.length!==3)throw new dl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Am.test(e[n]))throw new dl("JWT not in base64url format");return{header:JSON.parse(Lu(e[0])),payload:JSON.parse(Lu(e[1])),signature:qm(e[2]),raw:{header:e[0],payload:e[1]}}}async function Zm(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function eg(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function tg(t){return("0"+t.toString(16)).substr(-2)}function rg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,tg).join("")}async function ng(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function sg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await ng(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gr(t,e,r=!1){const n=rg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await xr(t,`${e}-code-verifier`,s);const i=await sg(n);return[i,n===i?"plain":"s256"]}const ig=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function og(t){const e=t.headers.get(ul);if(!e||!e.match(ig))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function lg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ag(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ug=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vr(t){if(!ug.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function so(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $u(t){return JSON.parse(JSON.stringify(t))}var cg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Zt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dg=[502,503,504];async function Au(t){var e;if(!Xm(t))throw new cl(Zt(t),0);if(dg.includes(t.status))throw new cl(Zt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Eh(Zt(i),i)}let n;const s=og(t);if(s&&s.getTime()>=jh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ou(Zt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ou(Zt(r),t.status,r.weak_password.reasons);throw new Mm(Zt(r),t.status||500,n)}const hg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function D(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ul]||(i[ul]=jh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await fg(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function fg(t,e,r,n,s,i){const o=hg(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(a){throw console.error(a),new cl(Zt(a),0)}if(l.ok||await Au(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(a){await Au(a)}}function dt(t){var e;let r=null;vg(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Jm(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Du(t){const e=dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ot(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function pg(t){return{data:t,error:null}}function mg(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=cg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function gg(t){return t}function vg(t){return t.access_token&&t.refresh_token&&t.expires_in}const io=["global","local","others"];var yg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class wg{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=bh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=io[0]){if(io.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${io.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ot})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=yg(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(L(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ot})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:gg});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);c[`${C}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){vr(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ot})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){vr(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ot})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){vr(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ot})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){vr(e.userId);try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteFactor(e){vr(e.userId),vr(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}function Mu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function _g(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yr={debug:!!(globalThis&&Nh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Th extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xg extends Th{}async function kg(t,e,r){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),yr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}_g();const Sg={url:Im,storageKey:Lm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$m,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Uu(t,e,r){return await r()}const wr={};class Hn{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hn.nextInstanceID,Hn.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Sg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new wg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bh(s.fetch),this.lock=s.lock||Uu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=kg:this.lock=Uu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Nh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Mu(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=wr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){wr[this.storageKey]=Object.assign(Object.assign({},wr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=wr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wr[this.storageKey]=Object.assign(Object.assign({},wr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Ym(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Bm(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return L(r)?{error:r}:{error:new Eh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:dt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await gr(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:w},xform:dt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:dt})}else throw new vs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Du})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Du})}else throw new vs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new gs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,l,a,c,d,h,f,v;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:C,wallet:g,statement:p,options:m}=e;let y;if(Qe())if(typeof g=="object")y=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))y=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const k=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in y&&y.signIn){const j=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let x;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")x=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)x=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)w=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),_=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const j=await y.signMessage(new TextEncoder().encode(w),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=j}}try{const{data:C,error:g}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Gm(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:dt});if(g)throw g;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new gs}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:g})}catch(C){if(L(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const r=await Qt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:dt});if(await Et(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new gs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:dt}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new gs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await gr(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new vs("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:dt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await gr(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:pg})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ct;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new vs("You must provide either an email or phone number and a type")}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Qt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<to:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Qt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=so()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ot}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ot})})}catch(r){if(L(r))return zm(r)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ct;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await gr(this.storage,this.storageKey));const{data:c,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Ot});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ct;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=no(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(L(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ct;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Qe())throw new ys("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ys(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ys("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Pu("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!i||!l||!o||!c)throw new ys("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;a&&(f=parseInt(a));const v=f-d;v*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:_,error:C}=await this._getUser(i);if(C)throw C;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(L(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Qt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Um(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Qm(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await gr(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Qe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(L(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await eg(async s=>(s>0&&await Zm(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ro(i)&&Date.now()+o-n<_r})}catch(n){if(this._debug(r,"error",n),L(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Qt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Qt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await xr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:so()}else if(s&&!s.user&&!s.user){const o=await Qt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Et(this.storage,this.storageKey+"-user"),await xr(this.storage,this.storageKey,s)):s.user=so()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<to;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${to}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ro(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ei;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),L(i)){const o={session:null,error:i};return ro(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await xr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=$u(s);await xr(this.storage,this.storageKey,i)}else{const s=$u(r);await xr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_r}ms, refresh threshold is ${al} ticks`),s<=al&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Th)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await gr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await D(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(L(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(L(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=no(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Dm>s)return n;const{data:i,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=no(n);r!=null&&r.allowExpired||lg(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=ag(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Km(`${l}.${a}`)))throw new dl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}Hn.nextInstanceID=0;const jg=Hn;class Eg extends jg{constructor(e){super(e)}}var Cg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};class Ng{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Om(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:Sm,realtime:Em,auth:Object.assign(Object.assign({},jm),{storageKey:c}),global:km},h=Rm(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Tm(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new V0(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new wm(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new x0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Cg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:a},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Eg({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new om(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bg=(t,e,r)=>new Ng(t,e,r);function Tg(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Tg()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Pg="https://gbfqtdcgoiuwuhvmamdo.supabase.co",Og="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdiZnF0ZGNnb2l1d3Vodm1hbWRvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NjE1MjAsImV4cCI6MjA2OTQzNzUyMH0.P88rqeA3iq5DC_DLfA5c7r79E6VwZvAxYhwPfzF0Ja8",ae=bg(Pg,Og);class xe{static async setUserContext(e){try{const{data:r,error:n}=await ae.rpc("set_config",{setting_name:"app.current_user_line_id",new_value:e,is_local:!0});return n&&(console.error("set_config エラー:",n),console.warn("RLS無効化中のため、set_configエラーを無視")),console.log("✅ User context set for shifts:",e),r}catch(r){console.error("❌ setUserContext エラー:",r),console.warn("RLS無効化中のため、setUserContextエラーを無視")}}static async createOrUpdateShift(e,r){if(console.log("📅 シフト作成/更新開始:",{lineUser:e.userId,shiftData:r}),await this.setUserContext(e.userId),!r.shiftType)return console.log("🗑️ シフトタイプが空のため削除処理を実行"),await this.deleteShift(e,r.date),null;const{data:n,error:s}=await ae.from("users").select("id").eq("line_user_id",e.userId).single();if(s||!n)throw console.error("❌ ユーザー取得エラー:",s),new Error(`ユーザーが見つかりません: ${s==null?void 0:s.message}`);console.log("✅ ユーザーID取得:",n.id);const{data:i,error:o}=await ae.from("shifts").select("*").eq("user_id",n.id).eq("shift_date",r.date).maybeSingle();o&&(console.error("❌ 既存シフト確認エラー:",o),console.log("既存シフト確認をスキップして新規作成します"));const l={user_id:n.id,shift_date:r.date,shift_type:r.shiftType,start_time:r.startTime||null,end_time:r.endTime||null,note:r.note||null,updated_at:new Date().toISOString()};if(i&&!o){console.log("🔄 既存シフトを更新");const{data:a,error:c}=await ae.from("shifts").update(l).eq("id",i.id).select("*").single();if(c)throw console.error("❌ シフト更新エラー:",c),new Error(`シフト更新エラー: ${c.message}`);return console.log("✅ シフト更新成功:",a),a}else{console.log("➕ 新規シフトを作成");const{data:a,error:c}=await ae.from("shifts").upsert(l,{onConflict:"user_id,shift_date"}).select("*").single();if(c)throw console.error("❌ シフト作成エラー:",c),new Error(`シフト作成エラー: ${c.message}`);return console.log("✅ シフト作成成功:",a),a}}static async getMonthlyShifts(e,r,n){console.log("📅 月間シフト取得開始:",{user:e.userId,year:r,month:n}),await this.setUserContext(e.userId);const s=`${r}-${n.toString().padStart(2,"0")}-01`,i=new Date(r,n,0).toISOString().split("T")[0],{data:o,error:l}=await ae.from("users").select("id").eq("line_user_id",e.userId).single();if(l||!o)return console.error("❌ ユーザー取得エラー:",l),[];const{data:a,error:c}=await ae.from("shifts").select("*").eq("user_id",o.id).gte("shift_date",s).lte("shift_date",i).order("shift_date",{ascending:!0});return c?(console.error("❌ 月間シフト取得エラー:",c),[]):(console.log("✅ 月間シフト取得成功:",a==null?void 0:a.length,"件"),a||[])}static async deleteShift(e,r){console.log("🗑️ シフト削除開始:",{user:e.userId,date:r}),await this.setUserContext(e.userId);const{data:n,error:s}=await ae.from("users").select("id").eq("line_user_id",e.userId).single();if(s||!n)throw new Error(`ユーザーが見つかりません: ${s==null?void 0:s.message}`);const{error:i}=await ae.from("shifts").delete().eq("user_id",n.id).eq("shift_date",r);if(i)throw console.error("❌ シフト削除エラー:",i),new Error(`シフト削除エラー: ${i.message}`);console.log("✅ シフト削除成功")}static getShiftTypeLabel(e){return{early:"早番(オープン)",late:"遅番(締め)",normal:"通常入店",off:"休み希望"}[e]||e}static getShiftTypeColor(e){return{early:"#059669",late:"#dc2626",normal:"#CB8585",off:"#6b7280"}[e]||"#6b7280"}static formatTime(e){return e?e.substring(0,5):""}}const Rg=({availableDates:t=[4,5,7,8,10,11,12,15,17,18,19,20,22,23,24,27,28]})=>{const{user:e}=Kt(),[r,n]=I.useState(new Date),[s,i]=I.useState([]),[o,l]=I.useState([]),[a,c]=I.useState(!1),[d,h]=I.useState(null),[f,v]=I.useState(null),w=r.getFullYear(),_=r.getMonth(),C=new Date(w,_,1),g=new Date(w,_+1,0);C.getDay(),g.getDate();const p=async()=>{if(e){c(!0);try{const $=await xe.getMonthlyShifts(e,w,_+1);i($);const F=_+1,Ge=F>11?w+1:w,N=F>11?0:F,R=await xe.getMonthlyShifts(e,Ge,N+1);l(R),console.log("✅ シフト読み込み完了:",{current:$.length,next:R.length})}catch($){console.error("❌ シフト読み込みエラー:",$)}finally{c(!1)}}};I.useEffect(()=>{p()},[e,r]);const m=($,F)=>$.find(Ge=>Ge.shift_date===F),y=()=>{n(new Date(w,_-1,1))},k=()=>{n(new Date(w,_+1,1))},j=($,F,Ge,N=!1)=>{const R=new Date($,F,1),E=new Date($,F+1,0),T=R.getDay(),A=E.getDate(),J=[];for(let z=0;z<T;z++)J.push(u.jsx("div",{className:"aspect-square flex items-center justify-center text-gray-300",children:"-"},`empty-${z}`));for(let z=1;z<=A;z++){const oe=`${$}-${(F+1).toString().padStart(2,"0")}-${z.toString().padStart(2,"0")}`,te=m(Ge,oe),Ie=t.includes(z);J.push(u.jsxs("div",{className:"aspect-square flex items-center justify-center text-sm font-medium relative cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>N&&x(oe,te),children:[te?u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-medium text-sm",style:{backgroundColor:xe.getShiftTypeColor(te.shift_type)},children:z}):Ie?u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:"#CB8585"},children:z}):u.jsx("span",{className:"text-gray-800 hover:text-gray-600",children:z}),N&&!te&&u.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-gray-300 rounded-full flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:u.jsx(u0,{className:"w-2 h-2 text-white"})})]},z))}return J},x=($,F)=>{e&&(h($),v(F?{date:$,shiftType:F.shift_type,startTime:F.start_time?xe.formatTime(F.start_time):"",endTime:F.end_time?xe.formatTime(F.end_time):"",note:F.note||""}:{date:$,shiftType:"",startTime:"09:00",endTime:"17:00",note:""}))},b=async()=>{if(!(!e||!f))try{await xe.createOrUpdateShift(e,f),v(null),h(null),await p(),console.log("✅ シフト保存成功")}catch($){console.error("❌ シフト保存エラー:",$),alert("シフトの保存に失敗しました: "+($ instanceof Error?$.message:""))}},U=async()=>{if(!(!e||!d))try{await xe.deleteShift(e,d),v(null),h(null),await p(),console.log("✅ シフト削除成功")}catch($){console.error("❌ シフト削除エラー:",$),alert("シフトの削除に失敗しました: "+($ instanceof Error?$.message:""))}},O=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],q=["月","火","水","木","金","土","日"],pe=_+1,_e=pe>11?w+1:w,ct=pe>11?0:pe;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 aspect-square",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("button",{onClick:y,className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:"#CB8585"},children:u.jsx(th,{className:"w-5 h-5"})}),u.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[w,"年 ",O[_]]}),u.jsx("button",{onClick:k,className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:"#CB8585"},children:u.jsx(rh,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:q.map(($,F)=>u.jsx("div",{className:`aspect-square flex items-center justify-center text-sm font-medium ${F===5?"text-blue-600":F===6?"text-red-600":"text-gray-600"}`,children:$},$))}),u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4 flex-1",children:j(w,_,s,!0)}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:xe.getShiftTypeColor("early")}}),u.jsx("span",{className:"text-gray-600 text-xs",children:"早番"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:xe.getShiftTypeColor("late")}}),u.jsx("span",{className:"text-gray-600 text-xs",children:"遅番"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:xe.getShiftTypeColor("normal")}}),u.jsx("span",{className:"text-gray-600 text-xs",children:"通常"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:xe.getShiftTypeColor("off")}}),u.jsx("span",{className:"text-gray-600 text-xs",children:"休み希望"})]})]}),u.jsx("span",{className:"text-gray-500",children:a?"読み込み中...":`シフト登録：${s.length}日`})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 aspect-square",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"w-6 h-6"})," ",u.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[_e,"年 ",O[ct]]}),u.jsx("div",{className:"w-6 h-6"})," "]}),u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:q.map(($,F)=>u.jsx("div",{className:`aspect-square flex items-center justify-center text-sm font-medium ${F===5?"text-blue-600":F===6?"text-red-600":"text-gray-600"}`,children:$},$))}),u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4 flex-1",children:j(_e,ct,o)}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:xe.getShiftTypeColor("early")}}),u.jsx("span",{className:"text-gray-600 text-xs",children:"早番"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:xe.getShiftTypeColor("late")}}),u.jsx("span",{className:"text-gray-600 text-xs",children:"遅番"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:xe.getShiftTypeColor("normal")}}),u.jsx("span",{className:"text-gray-600 text-xs",children:"通常"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:xe.getShiftTypeColor("off")}}),u.jsx("span",{className:"text-gray-600 text-xs",children:"休み希望"})]})]}),u.jsxs("span",{className:"text-gray-500",children:["シフト登録：",o.length,"日"]})]})]}),f&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[u.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["シフト編集 - ",new Date(f.date).toLocaleDateString("ja-JP")]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"シフトタイプ"}),u.jsxs("select",{value:f.shiftType,onChange:$=>v({...f,shiftType:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"シフト未設定"}),u.jsx("option",{value:"early",children:"早番(オープン)"}),u.jsx("option",{value:"late",children:"遅番(締め)"}),u.jsx("option",{value:"normal",children:"通常入店"}),u.jsx("option",{value:"off",children:"休み希望"})]})]}),f.shiftType&&f.shiftType!=="off"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"開始時間"}),u.jsx("input",{type:"time",value:f.startTime||"",onChange:$=>v({...f,startTime:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),f.shiftType&&f.shiftType!=="off"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"終了時間"}),u.jsx("input",{type:"time",value:f.endTime||"",onChange:$=>v({...f,endTime:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メモ"}),u.jsx("textarea",{value:f.note||"",onChange:$=>v({...f,note:$.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"メモを入力（任意）"})]})]}),u.jsxs("div",{className:"flex justify-between items-center mt-6",children:[u.jsx("div",{children:d&&m(s,d)&&u.jsx("button",{onClick:U,className:"px-4 py-2 text-red-600 hover:text-red-800 transition-colors",children:"削除"})}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>{v(null),h(null)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"キャンセル"}),u.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"保存"})]})]})]})})]})};class He{static async createTimeRecord(e,r){var a,c,d;console.log("⏰ 打刻記録開始:",{lineUser:e.userId,recordData:r});const{data:n,error:s}=await ae.from("users").select("id").eq("line_user_id",e.userId).single();if(s||!n)throw console.error("❌ ユーザー取得エラー:",s),new Error(`ユーザーが見つかりません: ${s==null?void 0:s.message}`);console.log("✅ ユーザーID取得:",n.id);const i={user_id:n.id,record_type:r.recordType,recorded_at:new Date().toISOString(),location_lat:(a=r.location)==null?void 0:a.latitude,location_lng:(c=r.location)==null?void 0:c.longitude,location_name:(d=r.location)==null?void 0:d.locationName,note:r.note};console.log("📝 打刻データ挿入:",i);const{data:o,error:l}=await ae.from("time_records").insert(i).select("*").single();if(l)throw console.error("❌ 打刻記録エラー:",l),new Error(`打刻記録の作成に失敗しました: ${l.message}`);return console.log("✅ 打刻記録成功:",o),o}static async getUserTimeRecords(e,r=20){console.log("📋 打刻履歴取得開始:",e.userId);const{data:n,error:s}=await ae.from("time_records").select(`
        *,
        users!inner(line_user_id)
      `).eq("users.line_user_id",e.userId).order("recorded_at",{ascending:!1}).limit(r);if(s)throw console.error("❌ 打刻履歴取得エラー:",s),new Error(`打刻履歴の取得に失敗しました: ${s.message}`);return console.log("✅ 打刻履歴取得成功:",n==null?void 0:n.length,"件"),n||[]}static async getTodayTimeRecords(e){console.log("📅 今日の打刻記録取得開始:",e.userId);const r=new Date,n=new Date(r.getFullYear(),r.getMonth(),r.getDate()),s=new Date(n);s.setDate(s.getDate()+1);const{data:i,error:o}=await ae.from("time_records").select(`
        *,
        users!inner(line_user_id)
      `).eq("users.line_user_id",e.userId).gte("recorded_at",n.toISOString()).lt("recorded_at",s.toISOString()).order("recorded_at",{ascending:!0});if(o)throw console.error("❌ 今日の打刻記録取得エラー:",o),new Error(`今日の打刻記録の取得に失敗しました: ${o.message}`);return console.log("✅ 今日の打刻記録取得成功:",i==null?void 0:i.length,"件"),i||[]}static getRecordTypeLabel(e){return{clock_in:"出勤",clock_out:"退勤",break_start:"休憩開始",break_end:"休憩終了"}[e]||e}static getNextRecordType(e){if(e.length===0)return"clock_in";switch(e[e.length-1].record_type){case"clock_in":return"break_start";case"break_start":return"break_end";case"break_end":return"break_start";case"clock_out":return"clock_in";default:return"clock_in"}}static canClockOut(e){if(e.length===0)return!1;const r=e[e.length-1];return r.record_type==="clock_in"||r.record_type==="break_end"}static async getMonthlyTimeRecords(e,r,n){console.log("📅 月間打刻記録取得開始:",{user:e.userId,year:r,month:n});const s=`${r}-${n.toString().padStart(2,"0")}-01`,i=new Date(r,n,0).toISOString().split("T")[0],{data:o,error:l}=await ae.from("time_records").select(`
        *,
        users!inner(line_user_id)
      `).eq("users.line_user_id",e.userId).gte("recorded_at",s).lte("recorded_at",i+"T23:59:59.999Z").order("recorded_at",{ascending:!0});return l?(console.error("❌ 月間打刻記録取得エラー:",l),[]):(console.log("✅ 月間打刻記録取得成功:",o==null?void 0:o.length,"件"),o||[])}static async getDayTimeRecords(e,r){console.log("📅 日別打刻記録取得開始:",{user:e.userId,date:r});const n=`${r}T00:00:00.000Z`,s=`${r}T23:59:59.999Z`,{data:i,error:o}=await ae.from("time_records").select(`
        *,
        users!inner(line_user_id)
      `).eq("users.line_user_id",e.userId).gte("recorded_at",n).lte("recorded_at",s).order("recorded_at",{ascending:!0});return o?(console.error("❌ 日別打刻記録取得エラー:",o),[]):(console.log("✅ 日別打刻記録取得成功:",i==null?void 0:i.length,"件"),i||[])}}const Ig=({availableDates:t=[]})=>{const{user:e}=Kt(),[r,n]=I.useState(new Date),[s,i]=I.useState([]),[o,l]=I.useState([]),[a,c]=I.useState({workingDays:0,totalMinutes:0}),[d,h]=I.useState(!1),[f,v]=I.useState(null),[w,_]=I.useState([]),C=r.getFullYear(),g=r.getMonth(),p=new Date(C,g,1),m=new Date(C,g+1,0),y=p.getDay(),k=m.getDate(),j=async()=>{if(e){h(!0);try{const E=await He.getMonthlyTimeRecords(e,C,g+1),T={};E.forEach(J=>{const z=new Date(J.recorded_at).toLocaleDateString("sv-SE");T[z]||(T[z]={date:z,hasAttendance:!1,records:[],workingHours:0}),T[z].records.push(J),T[z].hasAttendance=!0}),Object.values(T).forEach(J=>{J.workingHours=x(J.records)});const A=Object.values(T);i(A),b(A),console.log("✅ 月間実績読み込み完了:",Object.keys(T).length,"日")}catch(E){console.error("❌ 月間実績読み込みエラー:",E)}finally{h(!1)}}},x=E=>{let T=0,A=null;for(const J of E){const z=new Date(J.recorded_at);switch(J.record_type){case"clock_in":A=z;break;case"break_start":A&&(T+=(z.getTime()-A.getTime())/(1e3*60));break;case"break_end":A=z;break;case"clock_out":A&&(T+=(z.getTime()-A.getTime())/(1e3*60)),A=null;break}}return Math.round(T)},b=E=>{const T=new Map;let A=0,J=0;E.forEach(oe=>{if(!oe.hasAttendance||!oe.records.length)return;const te=new Set;oe.records.forEach(Ie=>{if(Ie.note){const Zr=Ie.note.match(/(.+)からの打刻/);Zr&&te.add(Zr[1])}}),te.size===0&&te.add("不明"),te.forEach(Ie=>{T.has(Ie)||T.set(Ie,{workingDays:new Set,totalMinutes:0});const Zr=T.get(Ie);Zr.workingDays.add(oe.date),Zr.totalMinutes+=oe.workingHours||0}),A++,J+=oe.workingHours||0});const z=[];T.forEach((oe,te)=>{z.push({location:te,workingDays:oe.workingDays.size,totalMinutes:oe.totalMinutes})}),z.sort((oe,te)=>oe.location.localeCompare(te.location)),l(z),c({workingDays:A,totalMinutes:J})};I.useEffect(()=>{j()},[e,r]);const U=E=>s.find(T=>T.date===E),O=()=>{n(new Date(C,g-1,1))},q=()=>{n(new Date(C,g+1,1))},pe=async E=>{if(!e)return;const T=U(E);!T||!T.hasAttendance||(v(E),_(T.records))},_e=E=>{if(!E.hasAttendance)return"#e5e7eb";const T=(E.workingHours||0)/60;return T>=8?"#059669":T>=4?"#CB8585":"#f59e0b"},ct=()=>{const E=[];for(let T=0;T<y;T++)E.push(u.jsx("div",{className:"aspect-square flex items-center justify-center text-gray-300",children:"-"},`empty-${T}`));for(let T=1;T<=k;T++){const A=`${C}-${(g+1).toString().padStart(2,"0")}-${T.toString().padStart(2,"0")}`,J=U(A);E.push(u.jsx("div",{className:"aspect-square flex items-center justify-center text-sm font-medium relative cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>pe(A),children:J&&J.hasAttendance?u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-medium text-sm",style:{backgroundColor:_e(J)},children:T}):u.jsx("span",{className:"text-gray-800 hover:text-gray-600",children:T})},T))}return E},$=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],F=["月","火","水","木","金","土","日"],Ge=E=>new Date(E).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",hour12:!1}),N=E=>{const T=Math.floor(E/60),A=E%60;return`${T}:${A.toString().padStart(2,"0")}`},R=E=>`${Math.floor(E/60)}時間${E%60}分`;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 aspect-square",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("button",{onClick:O,className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:"#CB8585"},children:u.jsx(th,{className:"w-5 h-5"})}),u.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[C,"年 ",$[g]," 実績"]}),u.jsx("button",{onClick:q,className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:"#CB8585"},children:u.jsx(rh,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:F.map((E,T)=>u.jsx("div",{className:`aspect-square flex items-center justify-center text-sm font-medium ${T===5?"text-blue-600":T===6?"text-red-600":"text-gray-600"}`,children:E},E))}),u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4 flex-1",children:ct()}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-600"}),u.jsx("span",{className:"text-gray-600 text-xs",children:"8時間以上"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#CB8585"}}),u.jsx("span",{className:"text-gray-600 text-xs",children:"4-8時間"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),u.jsx("span",{className:"text-gray-600 text-xs",children:"4時間未満"})]})]}),u.jsx("span",{className:"text-gray-500",children:d?"読み込み中...":`出勤日：${s.length}日`})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[u.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"📊 今月の勤怠統計"}),u.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"総稼働日数"}),u.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[a.workingDays,"日"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"総稼働時間"}),u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R(a.totalMinutes)})]})]})})]}),o.length>0&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[u.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"🏢 拠点別統計"}),u.jsx("div",{className:"space-y-3",children:o.map((E,T)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:`hsl(${T*60}, 60%, 50%)`}}),u.jsx("span",{className:"font-medium text-gray-900",children:E.location})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[E.workingDays,"日 / ",R(E.totalMinutes)]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["平均 ",R(Math.round(E.totalMinutes/E.workingDays))," / 日"]})]})]},E.location))})]})]}),f&&w.length>0&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 max-h-96 overflow-y-auto",children:[u.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[new Date(f).toLocaleDateString("ja-JP")," の打刻記録"]}),u.jsx("div",{className:"space-y-3",children:w.map((E,T)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"flex items-center space-x-3",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[E.record_type==="clock_in"&&u.jsx(nh,{className:"w-4 h-4 text-green-600"}),E.record_type==="clock_out"&&u.jsx(tl,{className:"w-4 h-4 text-red-600"}),(E.record_type==="break_start"||E.record_type==="break_end")&&u.jsx(el,{className:"w-4 h-4 text-orange-600"}),u.jsx("span",{className:"text-sm font-medium text-gray-900",children:He.getRecordTypeLabel(E.record_type)})]})}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:Ge(E.recorded_at)}),E.note&&u.jsx("p",{className:"text-xs text-gray-500",children:E.note})]})]},E.id))}),u.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"勤務時間"}),u.jsx("span",{className:"text-lg font-bold text-blue-600",children:N(x(w))})]})}),u.jsx("div",{className:"flex justify-end mt-6",children:u.jsx("button",{onClick:()=>{v(null),_([])},className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:"閉じる"})})]})})]})},Lg=()=>{const[t,e]=I.useState("schedule");return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:u.jsxs("div",{className:"flex border-b border-gray-200",children:[u.jsxs("button",{onClick:()=>e("schedule"),className:`flex-1 flex items-center justify-center px-4 py-3 text-sm font-medium transition-colors ${t==="schedule"?"text-white border-b-2 border-transparent":"text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300"}`,style:t==="schedule"?{backgroundColor:"#CB8585",borderBottomColor:"#CB8585"}:{},children:[u.jsx(o0,{className:"w-4 h-4 mr-2"}),"シフト予定"]}),u.jsxs("button",{onClick:()=>e("attendance"),className:`flex-1 flex items-center justify-center px-4 py-3 text-sm font-medium transition-colors ${t==="attendance"?"text-white border-b-2 border-transparent":"text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300"}`,style:t==="attendance"?{backgroundColor:"#CB8585",borderBottomColor:"#CB8585"}:{},children:[u.jsx(Zo,{className:"w-4 h-4 mr-2"}),"勤怠実績"]})]})}),u.jsxs("div",{className:"min-h-0",children:[t==="schedule"&&u.jsx(Rg,{}),t==="attendance"&&u.jsx(Ig,{})]})]})},$g=()=>{const{login:t,error:e,isLoading:r,clearError:n}=Kt();return u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto w-20 h-20 rounded-lg flex items-center justify-center mb-6",style:{backgroundColor:"#CB8585"},children:u.jsx("div",{className:"text-white text-3xl font-bold",children:"勤"})}),u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"メイクミー勤怠"}),u.jsx("p",{className:"text-gray-600",children:"LINEアカウントでログインしてください"})]}),e&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-red-800",children:"エラーが発生しました"}),u.jsx("div",{className:"mt-2 text-sm text-red-700",children:u.jsx("p",{children:e})}),u.jsx("div",{className:"mt-4",children:u.jsx("button",{type:"button",className:"text-sm bg-red-100 text-red-800 rounded-md px-2 py-1 hover:bg-red-200 transition-colors",onClick:n,children:"閉じる"})})]})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:t,disabled:r,className:`w-full flex items-center justify-center px-8 py-4 border border-transparent text-base font-medium rounded-lg text-white transition-all duration-200 ${r?"bg-gray-400 cursor-not-allowed":"bg-[#00B900] hover:bg-[#009900] active:scale-95"}`,children:r?u.jsxs("div",{className:"flex items-center",children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ログイン中..."]}):u.jsxs("div",{className:"flex items-center",children:[u.jsxs("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",fill:"currentColor",children:[u.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12c0 2.4.85 4.6 2.26 6.33L3 22l3.67-1.26C8.4 21.15 10.6 22 12 22c5.52 0 10-4.48 10-10S17.52 2 12 2zm0 18c-2.1 0-4.08-.68-5.68-1.84L4 19l.84-2.32C3.68 15.08 3 13.1 3 11c0-4.96 4.04-9 9-9s9 4.04 9 9-4.04 9-9 9z"}),u.jsx("circle",{cx:"8",cy:"12",r:"1"}),u.jsx("circle",{cx:"12",cy:"12",r:"1"}),u.jsx("circle",{cx:"16",cy:"12",r:"1"})]}),"LINEでログイン"]})}),u.jsx("div",{className:"text-center",children:u.jsx("p",{className:"text-xs text-gray-500",children:"ログインすることで、利用規約およびプライバシーポリシーに同意したものとみなします。"})})]})]})})};class Ag{static async findOrCreateUser(e){console.log("🔍 ユーザー検索開始:",e.userId);let{data:r,error:n}=await ae.from("users").select("*").eq("line_user_id",e.userId).single();if(console.log("🔍 検索結果:",{existingUser:r,findError:n}),n&&n.code!=="PGRST116")throw console.error("❌ ユーザー検索エラー:",n),new Error(`ユーザー検索エラー: ${n.message}`);if(r){console.log("🔄 既存ユーザーを更新");const s={display_name:e.displayName,picture_url:e.pictureUrl,email:e.email,updated_at:new Date().toISOString()},{data:i,error:o}=await ae.from("users").update(s).eq("id",r.id).select("*").single();if(o)throw console.error("❌ ユーザー更新エラー:",o),new Error(`ユーザー更新エラー: ${o.message}`);return console.log("✅ ユーザー更新成功:",i),i}else{console.log("➕ 新規ユーザーを作成");const s={line_user_id:e.userId,display_name:e.displayName,picture_url:e.pictureUrl,email:e.email},{data:i,error:o}=await ae.from("users").insert(s).select("*").single();if(o)throw console.error("❌ ユーザー作成エラー:",o),new Error(`ユーザー作成エラー: ${o.message}`);return console.log("✅ ユーザー作成成功:",i),i}}}const Dg=()=>{const{logout:t}=Kt();return I.useEffect(()=>{(async()=>{try{const r=new URLSearchParams(window.location.search),n=r.get("code"),s=r.get("state"),i=r.get("error");if(i){console.error("LINE認証エラー:",i),alert("ログインがキャンセルされました。"),window.location.href="/";return}if(!n||!s){console.error("認証パラメータが不足しています"),alert("認証に失敗しました。もう一度お試しください。"),window.location.href="/";return}const o=localStorage.getItem("line_login_state");if(console.log("🔍 State検証:",{received:s,stored:o,match:s===o}),s!==o){console.error("State パラメータが一致しません"),localStorage.removeItem("line_login_state"),alert("セキュリティエラーが発生しました。ブラウザを更新してもう一度お試しください。"),window.location.href="/";return}const l=await c0(n);let a;l.id_token?a=d0(l.id_token):a=await h0(l.access_token);try{console.log("📝 Supabaseにユーザー情報を保存開始");const c=await Ag.findOrCreateUser(a);console.log("✅ DBユーザー情報保存成功:",c)}catch(c){console.error("❌ DB操作エラー:",c)}localStorage.setItem("line_auth_user",JSON.stringify(a)),localStorage.removeItem("line_login_state"),sh(),console.log("ログイン成功:",a.displayName),window.location.href="/"}catch(r){console.error("認証処理エラー:",r),r instanceof Error?r.message.includes("トークン交換")?alert("LINEログインの設定に問題があります。管理者にお問い合わせください。"):r.message.includes("IDトークン")?alert("ユーザー情報の取得に失敗しました。もう一度お試しください。"):r.message.includes("Channel Secret")?alert("開発環境の設定が不完全です。Channel Secretを確認してください。"):alert(`認証エラー: ${r.message}`):alert("認証処理中にエラーが発生しました。"),localStorage.removeItem("line_auth_user"),localStorage.removeItem("line_login_state"),localStorage.removeItem("line_auth_timestamp"),window.location.href="/"}})()},[t]),u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto w-16 h-16 rounded-lg flex items-center justify-center mb-4",style:{backgroundColor:"#CB8585"},children:u.jsxs("svg",{className:"animate-spin h-8 w-8 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"認証処理中..."}),u.jsx("p",{className:"text-gray-600",children:"LINEサーバーと通信しています"}),u.jsx("div",{className:"mt-4",children:u.jsxs("div",{className:"flex items-center justify-center space-x-1 text-gray-400 text-sm",children:[u.jsx("span",{children:"認証コードを処理中"}),u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-pulse"}),u.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-pulse delay-75"}),u.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-pulse delay-150"})]})]})})]})})};class Mg{static async getCurrentLocation(){return new Promise((e,r)=>{if(!navigator.geolocation){r(new Error("位置情報がサポートされていません"));return}console.log("📍 位置情報取得開始"),navigator.geolocation.getCurrentPosition(async n=>{const{latitude:s,longitude:i}=n.coords;console.log("✅ 位置情報取得成功:",{latitude:s,longitude:i});try{const o=await this.getLocationName(s,i);e({latitude:s,longitude:i,locationName:o})}catch(o){console.warn("⚠️ 住所取得失敗、位置情報のみ使用:",o),e({latitude:s,longitude:i})}},n=>{console.error("❌ 位置情報取得エラー:",n);let s="位置情報の取得に失敗しました";switch(n.code){case n.PERMISSION_DENIED:s="位置情報の使用が拒否されました";break;case n.POSITION_UNAVAILABLE:s="位置情報が利用できません";break;case n.TIMEOUT:s="位置情報の取得がタイムアウトしました";break}r(new Error(s))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})})}static async getLocationName(e,r){return`${e.toFixed(6)}, ${r.toFixed(6)}`}static formatLocation(e){return e.locationName?e.locationName:`${e.latitude.toFixed(6)}, ${e.longitude.toFixed(6)}`}}const zu=({recordType:t,onSuccess:e,onError:r,disabled:n=!1})=>{const{user:s}=Kt(),[i,o]=I.useState(!1),[l,a]=I.useState(!0),c=v=>{switch(v){case"clock_in":return"bg-green-500 hover:bg-green-600";case"clock_out":return"bg-red-500 hover:bg-red-600";case"break_start":return"bg-yellow-500 hover:bg-yellow-600";case"break_end":return"bg-blue-500 hover:bg-blue-600";default:return"bg-gray-500 hover:bg-gray-600"}},d=v=>{switch(v){case"clock_in":return u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.293l-3-3a1 1 0 00-1.414 1.414L10.586 9.5 9.293 10.793a1 1 0 001.414 1.414l2-2a1 1 0 000-1.414z",clipRule:"evenodd"})});case"clock_out":return u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.293l-3-3a1 1 0 00-1.414 1.414L10.586 9.5 9.293 10.793a1 1 0 001.414 1.414l2-2a1 1 0 000-1.414z",clipRule:"evenodd"})});case"break_start":return u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zM11 8a1 1 0 112 0v4a1 1 0 11-2 0V8z",clipRule:"evenodd"})});case"break_end":return u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})});default:return null}},h=async()=>{if(!s){r==null||r("ユーザー情報が見つかりません");return}o(!0);try{let v;if(l)try{v=await Mg.getCurrentLocation(),console.log("📍 位置情報取得成功:",v)}catch(C){console.warn("⚠️ 位置情報取得失敗:",C)}const w={recordType:t,location:v},_=await He.createTimeRecord(s,w);console.log("✅ 打刻成功:",_),e==null||e()}catch(v){console.error("❌ 打刻エラー:",v);const w=v instanceof Error?v.message:"打刻に失敗しました";r==null||r(w)}finally{o(!1)}},f=He.getRecordTypeLabel(t);return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[u.jsx("input",{type:"checkbox",id:`location-${t}`,checked:l,onChange:v=>a(v.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),u.jsx("label",{htmlFor:`location-${t}`,children:"位置情報を記録する"})]}),u.jsx("button",{onClick:h,disabled:n||i,className:`
          w-full flex items-center justify-center px-6 py-4 
          text-white font-medium rounded-lg shadow-md
          transition-all duration-200 transform
          ${n||i?"bg-gray-400 cursor-not-allowed":`${c(t)} hover:shadow-lg active:scale-95`}
        `,children:i?u.jsxs("div",{className:"flex items-center",children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"打刻中..."]}):u.jsxs("div",{className:"flex items-center",children:[d(t),u.jsx("span",{className:"ml-2",children:f})]})})]})},Bu=({refreshTrigger:t=0,todayOnly:e=!1})=>{const{user:r}=Kt(),[n,s]=I.useState([]),[i,o]=I.useState(!1),[l,a]=I.useState(null),c=async()=>{if(r){o(!0),a(null);try{let v;e?v=await He.getTodayTimeRecords(r):v=await He.getUserTimeRecords(r,20),s(v)}catch(v){console.error("❌ 打刻履歴取得エラー:",v);const w=v instanceof Error?v.message:"履歴の取得に失敗しました";a(w)}finally{o(!1)}}};I.useEffect(()=>{c()},[r,t,e]);const d=v=>{const w=new Date(v);return{date:w.toLocaleDateString("ja-JP",{month:"short",day:"numeric",weekday:"short"}),time:w.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})}},h=v=>{switch(v){case"clock_in":return"bg-green-100 text-green-800 border-green-200";case"clock_out":return"bg-red-100 text-red-800 border-red-200";case"break_start":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"break_end":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},f=v=>{switch(v){case"clock_in":return u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.293l-3-3a1 1 0 00-1.414 1.414L10.586 9.5 9.293 10.793a1 1 0 001.414 1.414l2-2a1 1 0 000-1.414z",clipRule:"evenodd"})});case"clock_out":return u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.293l-3-3a1 1 0 00-1.414 1.414L10.586 9.5 9.293 10.793a1 1 0 001.414 1.414l2-2a1 1 0 000-1.414z",clipRule:"evenodd"})});case"break_start":return u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zM11 8a1 1 0 112 0v4a1 1 0 11-2 0V8z",clipRule:"evenodd"})});case"break_end":return u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})});default:return null}};return i?u.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:u.jsxs("div",{className:"flex items-center justify-center py-8",children:[u.jsxs("svg",{className:"animate-spin h-8 w-8 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("span",{className:"ml-2 text-gray-600",children:"履歴を読み込み中..."})]})}):l?u.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-red-500 mb-2",children:u.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),u.jsx("p",{className:"text-gray-600 mb-4",children:l}),u.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"再試行"})]})}):u.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e?"今日の打刻履歴":"打刻履歴"}),n.length>0&&u.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[n.length,"件の記録"]})]}),u.jsx("div",{className:"divide-y divide-gray-200",children:n.length===0?u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("div",{className:"text-gray-400 mb-4",children:u.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),u.jsx("p",{className:"text-gray-600",children:e?"今日はまだ打刻していません":"打刻履歴がありません"})]}):n.map((v,w)=>{const{date:_,time:C}=d(v.recorded_at),g=He.getRecordTypeLabel(v.record_type);return u.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${h(v.record_type)}`,children:[f(v.record_type),u.jsx("span",{className:"ml-1",children:g})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[!e&&u.jsx("span",{className:"mr-2",children:_}),u.jsx("span",{className:"font-medium",children:C})]})]}),v.location_lat&&v.location_lng&&u.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[u.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"位置情報あり"]})]}),v.note&&u.jsx("div",{className:"mt-2 text-sm text-gray-600 pl-8",children:v.note})]},v.id)})})]})},Ug=()=>{const{user:t,logout:e}=Kt(),[r,n]=I.useState([]),[s,i]=I.useState(0),[o,l]=I.useState(null),[a,c]=I.useState(!0),d=async()=>{if(t)try{const y=await He.getTodayTimeRecords(t);n(y)}catch(y){console.error("今日の記録の取得に失敗:",y)}finally{c(!1)}};I.useEffect(()=>{d()},[t,s]);const h=(y,k)=>{l({type:y,message:k}),setTimeout(()=>l(null),5e3)},f=()=>{h("success","打刻が完了しました"),i(y=>y+1)},v=y=>{h("error",`打刻エラー: ${y}`)},w=()=>He.getNextRecordType(r),_=()=>He.canClockOut(r),C=()=>{if(r.length===0)return{status:"未出勤",color:"text-gray-600"};switch(r[r.length-1].record_type){case"clock_in":return{status:"勤務中",color:"text-green-600"};case"break_start":return{status:"休憩中",color:"text-yellow-600"};case"break_end":return{status:"勤務中",color:"text-green-600"};case"clock_out":return{status:"退勤済み",color:"text-red-600"};default:return{status:"不明",color:"text-gray-600"}}},g=()=>{if(r.length===0)return"00:00";let y=0,k=null,j=null;for(const U of r){const O=new Date(U.recorded_at);switch(U.record_type){case"clock_in":k=O;break;case"break_start":k&&(y+=(O.getTime()-k.getTime())/(1e3*60)),j=O;break;case"break_end":k=O,j=null;break;case"clock_out":k&&(y+=(O.getTime()-k.getTime())/(1e3*60)),k=null;break}}k&&!j&&(y+=(new Date().getTime()-k.getTime())/(1e3*60));const x=Math.floor(y/60),b=Math.floor(y%60);return`${x.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`};if(!t)return u.jsx("div",{children:"ユーザー情報が見つかりません"});const p=C(),m=w();return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("div",{className:"bg-white shadow-sm",children:u.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"#CB8585"},children:u.jsx("div",{className:"text-white text-lg font-bold",children:"勤"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"メイクミー勤怠"}),u.jsx("p",{className:"text-sm text-gray-600",children:t.displayName})]})]}),u.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})}),o&&u.jsx("div",{className:`fixed top-4 right-4 z-50 max-w-sm w-full ${o.type==="success"?"bg-green-500":"bg-red-500"} text-white px-4 py-3 rounded-lg shadow-lg transform transition-all duration-300`,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"flex-1",children:o.message}),u.jsx("button",{onClick:()=>l(null),className:"ml-2 text-white hover:text-gray-200",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),u.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[u.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"現在の状態"}),u.jsx("p",{className:`text-2xl font-bold ${p.color}`,children:p.status})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"本日の勤務時間"}),u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a?"--:--":g()})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"本日の打刻回数"}),u.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.length,"回"]})]})]})}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"打刻"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"次の打刻"}),u.jsx(zu,{recordType:m,onSuccess:f,onError:v})]}),_()&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"退勤"}),u.jsx(zu,{recordType:"clock_out",onSuccess:f,onError:v})]})]})]}),u.jsx(Bu,{refreshTrigger:s,todayOnly:!0}),u.jsx(Bu,{refreshTrigger:s,todayOnly:!1})]})]})},zg=()=>{const{user:t,isAuthenticated:e,isLoading:r,logout:n}=Kt(),[s,i]=I.useState(new Date),[o,l]=I.useState("out"),[a,c]=I.useState("本社"),[d,h]=I.useState([]),[f,v]=I.useState(!1),[w,_]=I.useState([]);I.useEffect(()=>{const x=setInterval(()=>{i(new Date)},1e3);return()=>clearInterval(x)},[]),I.useEffect(()=>{(async()=>{if(t)try{const b=await He.getTodayTimeRecords(t);if(_(b),b.length>0){switch(b[b.length-1].record_type){case"clock_in":l("in");break;case"clock_out":l("out");break;case"break_start":l("break");break;case"break_end":l("in");break}const O=b.map(q=>{var pe;return{id:q.id,type:q.record_type==="clock_in"?"check-in":q.record_type==="clock_out"?"check-out":q.record_type==="break_start"?"break-start":"break-end",timestamp:new Date(q.recorded_at),location:((pe=q.note)==null?void 0:pe.replace("からの打刻",""))||"不明"}}).reverse();h(O)}}catch(b){console.error("今日の記録取得エラー:",b)}})()},[t]);const C=x=>x.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",hour12:!1}),g=x=>x.toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"short"}),p=()=>{switch(o){case"out":return"勤務外";case"in":return"勤務中";case"break":return"休憩中";default:return"勤務外"}},m=()=>{switch(o){case"out":return"bg-gray-100 text-gray-600";case"in":return"bg-blue-100 text-blue-600";case"break":return"bg-orange-100 text-orange-600";default:return"bg-gray-100 text-gray-600"}},y=async x=>{var b;if(!t){alert("ユーザー情報が見つかりません");return}try{const U={"check-in":"clock_in","check-out":"clock_out","break-start":"break_start","break-end":"break_end"};await He.createTimeRecord(t,{recordType:U[x],note:`${a}からの打刻`});const O={id:Date.now().toString(),type:x,timestamp:new Date,location:a};switch(h(ct=>[O,...ct]),x){case"check-in":l("in");break;case"check-out":l("out");break;case"break-start":l("break");break;case"break-end":l("in");break}const q={"check-in":"出勤","check-out":"退勤","break-start":"休憩開始","break-end":"休憩終了"},pe=(b=document.querySelector(`button[data-action="${x}"] span`))==null?void 0:b.textContent,_e=document.querySelector(`button[data-action="${x}"] span`);_e&&(_e.textContent="✓ 記録済み",setTimeout(()=>{_e&&(_e.textContent=pe||q[x])},2e3))}catch(U){console.error("打刻エラー:",U);const O=U instanceof Error?U.message:"打刻に失敗しました";alert(`エラー: ${O}`)}},k=x=>{switch(x){case"check-in":return o!=="out";case"check-out":return o==="out";case"break-start":return o!=="in";case"break-end":return o!=="break";default:return!1}};return window.location.pathname==="/auth/callback"?u.jsx(Dg,{}):r?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto w-16 h-16 rounded-lg flex items-center justify-center mb-4",style:{backgroundColor:"#CB8585"},children:u.jsxs("svg",{className:"animate-spin h-8 w-8 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),u.jsx("p",{className:"text-gray-600",children:"読み込み中..."})]})}):e?new URLSearchParams(window.location.search).get("dashboard")==="new"?u.jsx(Ug,{}):u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"bg-white shadow-sm border-b",children:u.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:"#CB8585"},children:u.jsx(Zo,{className:"w-4 h-4 text-white"})})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"メイクミー勤怠"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Time Tracking"})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[t==null?void 0:t.displayName,"さん"]}),u.jsx("p",{className:"text-xs text-gray-500",children:"おつかれさまです"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>v(!f),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(a0,{className:"w-5 h-5 text-gray-600"})}),f&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>{window.location.href="/?dashboard=new"},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[u.jsx(Zo,{className:"w-4 h-4 mr-2"}),"新しいダッシュボード"]}),u.jsxs("button",{onClick:()=>{n(),v(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[u.jsx(tl,{className:"w-4 h-4 mr-2"}),"ログアウト"]})]})})]})]})]})})}),u.jsxs("main",{className:"max-w-md mx-auto px-4 py-6",children:[u.jsx("div",{className:"text-white text-center py-3 rounded-lg mb-6",style:{backgroundColor:"#CB8585"},children:u.jsx("p",{className:"text-sm font-medium",children:"ログインしました"})}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[u.jsx("p",{className:"text-lg font-medium text-gray-800",children:g(s)}),u.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m()}`,children:p()})]}),u.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-6",children:[u.jsx(l0,{className:"w-4 h-4 text-gray-400"}),u.jsxs("select",{value:a,onChange:x=>c(x.target.value),className:"bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#CB8585"},children:[u.jsx("option",{value:"本社",children:"本社"}),u.jsx("option",{value:"支社",children:"支社"}),u.jsx("option",{value:"在宅",children:"在宅"})]})]})]}),u.jsx("div",{className:"text-center mb-12",children:u.jsxs("div",{className:"text-7xl font-light text-gray-800 mb-2",children:[C(s),u.jsx("span",{className:"text-3xl text-gray-500 ml-2",children:s.getSeconds().toString().padStart(2,"0")})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[u.jsxs("button",{"data-action":"check-in",onClick:()=>y("check-in"),disabled:k("check-in"),className:`flex flex-col items-center justify-center p-6 rounded-xl border-2 transition-all ${k("check-in")?"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed":"text-white active:scale-95"}`,style:k("check-in")?{}:{backgroundColor:"#CB8585",borderColor:"#CB8585"},onMouseEnter:x=>{k("check-in")||(x.currentTarget.style.backgroundColor="#B87575",x.currentTarget.style.borderColor="#B87575")},onMouseLeave:x=>{k("check-in")||(x.currentTarget.style.backgroundColor="#CB8585",x.currentTarget.style.borderColor="#CB8585")},children:[u.jsx(nh,{className:"w-8 h-8 mb-2"}),u.jsx("span",{className:"text-lg font-medium",children:"出勤"})]}),u.jsxs("button",{"data-action":"check-out",onClick:()=>y("check-out"),disabled:k("check-out"),className:`flex flex-col items-center justify-center p-6 rounded-xl border-2 transition-all ${k("check-out")?"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed":"bg-white active:scale-95"}`,style:k("check-out")?{}:{borderColor:"#CB8585",color:"#CB8585"},onMouseEnter:x=>{k("check-out")||(x.currentTarget.style.backgroundColor="#FDF2F2")},onMouseLeave:x=>{k("check-out")||(x.currentTarget.style.backgroundColor="white")},children:[u.jsx(tl,{className:"w-8 h-8 mb-2"}),u.jsx("span",{className:"text-lg font-medium",children:"退勤"})]}),u.jsxs("button",{"data-action":"break-start",onClick:()=>y("break-start"),disabled:k("break-start"),className:`flex flex-col items-center justify-center p-6 rounded-xl border-2 transition-all ${k("break-start")?"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed":"bg-white active:scale-95"}`,style:k("break-start")?{}:{borderColor:"#CB8585",color:"#CB8585"},onMouseEnter:x=>{k("break-start")||(x.currentTarget.style.backgroundColor="#FDF2F2")},onMouseLeave:x=>{k("break-start")||(x.currentTarget.style.backgroundColor="white")},children:[u.jsx(el,{className:"w-8 h-8 mb-2"}),u.jsx("span",{className:"text-lg font-medium",children:"休憩開始"})]}),u.jsxs("button",{"data-action":"break-end",onClick:()=>y("break-end"),disabled:k("break-end"),className:`flex flex-col items-center justify-center p-6 rounded-xl border-2 transition-all ${k("break-end")?"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed":"bg-white active:scale-95"}`,style:k("break-end")?{}:{borderColor:"#CB8585",color:"#CB8585"},onMouseEnter:x=>{k("break-end")||(x.currentTarget.style.backgroundColor="#FDF2F2")},onMouseLeave:x=>{k("break-end")||(x.currentTarget.style.backgroundColor="white")},children:[u.jsx(el,{className:"w-8 h-8 mb-2"}),u.jsx("span",{className:"text-lg font-medium",children:"休憩終了"})]})]}),d.length>0&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-8",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"本日の打刻履歴"}),u.jsx("div",{className:"space-y-2",children:d.slice(0,5).map(x=>u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${x.type==="check-in"?"bg-[#CB8585]":x.type==="check-out"?"bg-gray-500":"bg-orange-500"}`}),u.jsx("span",{className:"text-gray-600",children:x.type==="check-in"?"出勤":x.type==="check-out"?"退勤":x.type==="break-start"?"休憩開始":"休憩終了"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-gray-900 font-medium",children:C(x.timestamp)}),u.jsx("p",{className:"text-gray-500 text-xs",children:x.location})]})]},x.id))})]})]}),u.jsx("div",{className:"max-w-md mx-auto px-4 mt-8",children:u.jsx(Lg,{})})]}):u.jsx($g,{})};function Bg(){return u.jsx(m0,{children:u.jsx(zg,{})})}eh(document.getElementById("root")).render(u.jsx(I.StrictMode,{children:u.jsx(Bg,{})}));
